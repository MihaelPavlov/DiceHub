import{a as je,b as Ze}from"./chunk-W6OYX7H4.js";import{a as Qe}from"./chunk-W43YP37E.js";import{a as ze,b as Ue}from"./chunk-OR6DQMCE.js";import{c as Ye}from"./chunk-AF5TXU3F.js";import{a as k}from"./chunk-3YFOIB2Z.js";import{a as Le}from"./chunk-RG3YGCS2.js";import{a as he,b as Ce,c as X,d as be,e as xe}from"./chunk-257RNC4W.js";import{a as B}from"./chunk-B6POORFO.js";import{b as Pe,c as ye}from"./chunk-4XCZJEOQ.js";import{a as H}from"./chunk-PQJ34A2R.js";import{a as ue}from"./chunk-ELPMLOTJ.js";import{b as O,c as $e,d as We}from"./chunk-S4L6UGIL.js";import{$ as z,$a as Ne,Aa as P,Ba as De,Bc as Ge,Ca as I,Ea as g,Fa as m,Gb as pe,Ib as me,Jb as de,Jc as Fe,Ka as Ae,Kb as ee,Kc as te,La as He,M as ae,Ma as ce,Mb as _e,Na as le,Nc as Se,Pa as c,Pb as ve,Pc as Ve,Qa as y,Qc as ke,Ra as w,Rb as ge,S as E,Sc as A,T as oe,Vb as fe,Vc as Be,W as b,X as x,Y as h,Z as R,_a as ie,ba as U,cb as M,db as $,eb as T,fa as Te,ia as l,j as Z,ja as f,ka as Ee,na as se,oa as v,pb as K,qa as p,qb as q,sa as N,sb as qe,tb as Y,u as Ie,ub as G,wa as n,xa as o,ya as _,yc as D,za as S}from"./chunk-JJGLVIRE.js";var at=["menu"],ot=e=>({name:"Games",link:"reservations/games",isActive:e}),st=e=>({name:"Tables",link:"reservations/tables",isActive:e}),ct=(e,a)=>[e,a];function lt(e,a){if(e&1){let i=I();S(0),n(1,"app-header",4),g("historyClicked",function(){b(i);let r=m();return x(r.onHistoryExpression())})("headerClicked",function(){b(i);let r=m();return x(r.onHeader())}),_(2,"app-nav-bar",5),o(),P()}if(e&2){let i=a.ngIf,t=m();l(),p("header",i)("withHistoryBtn",!0)("withMenu",!0),l(),p("columns",Ne(8,ct,ie(4,ot,t.isActiveLink("/reservations/games")),ie(6,st,t.isActiveLink("/reservations/tables"))))}}function pt(e,a){if(e&1&&(n(0,"span",15),c(1),o()),e&2){let i=m(2);l(),y(i.activeReservationsCounts.gameReservationsCount)}}function mt(e,a){e&1&&(n(0,"span",15),c(1,"- -"),o())}function dt(e,a){if(e&1&&(n(0,"span",15),c(1),o()),e&2){let i=m(2);l(),y(i.activeReservationsCounts.tableReservationsCount)}}function _t(e,a){e&1&&(n(0,"span",15),c(1,"- -"),o())}function vt(e,a){if(e&1){let i=I();S(0),n(1,"div",6)(2,"div",7),g("click",function(){b(i);let r=m();return x(r.navigateToActiveGameReservations())}),n(3,"span",8)(4,"strong",9),c(5,"Active"),o(),c(6," Game Bookings"),o(),n(7,"div",10),h(),n(8,"svg",11),_(9,"path",12),o(),v(10,pt,2,1,"span",13)(11,mt,2,0,"span",13),o()(),R(),n(12,"div",7),g("click",function(){b(i);let r=m();return x(r.navigateToActiveTableReservations())}),n(13,"span",8)(14,"strong",9),c(15,"Active"),o(),c(16," Table Bookings"),o(),n(17,"div",10),h(),n(18,"svg",11),_(19,"path",14),o(),v(20,dt,2,1,"span",13)(21,_t,2,0,"span",13),o()()(),P()}if(e&2){let i=m();l(10),p("ngIf",i.activeReservationsCounts),l(),p("ngIf",!i.activeReservationsCounts),l(9),p("ngIf",i.activeReservationsCounts),l(),p("ngIf",!i.activeReservationsCounts)}}var L=(()=>{let a=class a{constructor(t,r,s,d,u){this.router=t,this.permissionService=r,this.menuTabsService=s,this.gameService=d,this.spaceManagementService=u,this.activeChildComponent=null,this.menuItems=new Z([]),this.isAdmin$=this.permissionService.hasUserAction(je.GamesCUD),this.header=new Z("Reservations"),this.handleMenuItemClick=this.handleMenuItemClick.bind(this),this.menuTabsService.setActive(Qe.RESERVATIONS)}ngOnDestroy(){this.menuTabsService.resetData()}navigateToActiveGameReservations(){this.router.navigateByUrl(Pe.GAMES.ACTIVE_RESERVATIONS)}navigateToActiveTableReservations(){this.router.navigateByUrl(Pe.SPACE_MANAGEMENT.ACTIVE_RESERVATIONS)}ngOnInit(){this.menuItems.next([{key:"history-games",label:"History Games"},{key:"history-tables",label:"History Tables"}]),Ie([this.gameService.getActiveReservationsCount(),this.spaceManagementService.getActiveReservedTablesCount()]).subscribe({next:([t,r])=>{this.activeReservationsCounts={gameReservationsCount:t,tableReservationsCount:r}}})}handleMenuItemClick(t){t==="history-tables"?this.router.navigateByUrl("/reservations/tables/history"):t==="history-games"&&this.router.navigateByUrl("/reservations/games/history")}onHistoryExpression(){if(this.activeChildComponent)try{this.activeChildComponent.onHistory()}catch{}else this.menu.toggleMenu()}isActiveLink(t){return this.router.url.includes(t)}onActivate(t){this.activeChildComponent=t}onHeader(){this.activeChildComponent=null,this.header.next("Reservations"),this.router.navigateByUrl("reservations")}removeActiveChildComponent(){this.activeChildComponent=null,this.header.next("Reservations")}};a.\u0275fac=function(r){return new(r||a)(f(te),f(Ze),f(Le),f(B),f(k))},a.\u0275cmp=E({type:a,selectors:[["app-reservation-management-navigation"]],viewQuery:function(r,s){if(r&1&&He(at,5),r&2){let d;ce(d=le())&&(s.menu=d.first)}},decls:6,vars:5,consts:[["menu",""],[4,"ngIf"],[3,"menuItemClick","menuItems"],[3,"activate"],[3,"historyClicked","headerClicked","header","withHistoryBtn","withMenu"],[3,"columns"],[1,"wrapper_tabs"],[1,"wrapper_tabs__tab",3,"click"],[1,"wrapper_tabs__tab-header"],[1,"marked"],[1,"info"],["viewBox","0 -960 960 960",1,"icon"],["d","M345.62-299.62v-19.15q0-38.08 35.96-62.23T480-405.15q62.46 0 98.42 24.15t35.96 62.23v19.15H345.62ZM480-440q-29.62 0-50.15-20.54-20.54-20.54-20.54-50.15 0-29.62 20.54-49.66 20.53-20.03 50.15-20.03 29.62 0 50.15 20.03 20.54 20.04 20.54 49.66 0 29.61-20.54 50.15Q509.62-440 480-440ZM113.77-599.23v338q8.61 13.38 34.61 26.27 26 12.88 59.93 20.19v-346q-38.93-8.31-60.73-17.42-21.81-9.12-33.81-21.04Zm732.46.77q-12 11.92-34.19 21.04-22.19 9.11-60.35 17.42v345.23q33.93-7.31 59.93-20.19 26-12.89 34.61-26.27v-337.23ZM273.31-131.62q-109.39-14.69-165.81-48.15t-58.73-83v-412.08q0-59.77 108.42-88.84Q265.62-792.77 480-792.77t322.81 29.08q108.42 29.07 108.42 88.84v412.08q-2.31 49.54-58.73 83-56.42 33.46-165.81 48.15v-480.3q65.93-10.31 104.39-25.54 38.46-15.23 59.15-38.46-28.46-29.54-111.5-40.81Q655.69-728 480-728q-178.77 0-266.15 12.42-87.39 12.43-105.08 39.66 17.38 22.46 56.35 38.07 38.96 15.62 108.19 25.93v480.3ZM113.77-599.23v369.08-369.08Zm732.46.77v368.31-368.31Z"],["class","info__count",4,"ngIf"],["d","M236-128.77q-63.31 0-107.27-43.96Q84.77-216.69 84.77-280q0-63.31 43.96-107.27 43.96-43.96 107.27-43.96 63.31 0 107.27 43.96 43.96 43.96 43.96 107.27 0 63.31-43.96 107.27-43.96 43.96-107.27 43.96Zm488 0q-63.31 0-107.27-43.96-43.96-43.96-43.96-107.27 0-63.31 43.96-107.27 43.96-43.96 107.27-43.96 63.31 0 107.27 43.96 43.96 43.96 43.96 107.27 0 63.31-43.96 107.27-43.96 43.96-107.27 43.96Zm-487.97-66q35.82 0 60.51-24.72 24.69-24.72 24.69-60.54t-24.72-60.51q-24.72-24.69-60.54-24.69t-60.51 24.72q-24.69 24.72-24.69 60.54t24.72 60.51q24.72 24.69 60.54 24.69Zm488 0q35.82 0 60.51-24.72 24.69-24.72 24.69-60.54t-24.72-60.51q-24.72-24.69-60.54-24.69t-60.51 24.72q-24.69 24.72-24.69 60.54t24.72 60.51q24.72 24.69 60.54 24.69ZM480-536.77q-63.31 0-107.27-43.96-43.96-43.96-43.96-107.27 0-63.31 43.96-107.27 43.96-43.96 107.27-43.96 63.31 0 107.27 43.96 43.96 43.96 43.96 107.27 0 63.31-43.96 107.27-43.96 43.96-107.27 43.96Zm.03-66q35.82 0 60.51-24.72 24.69-24.72 24.69-60.54t-24.72-60.51q-24.72-24.69-60.54-24.69t-60.51 24.72q-24.69 24.72-24.69 60.54t24.72 60.51q24.72 24.69 60.54 24.69ZM480-688Zm244 408Zm-488 0Z"],[1,"info__count"]],template:function(r,s){if(r&1){let d=I();v(0,lt,3,11,"ng-container",1),M(1,"async"),n(2,"app-controls-menu",2,0),g("menuItemClick",function(V){return b(d),x(s.handleMenuItemClick(V.value))}),o(),v(4,vt,22,4,"ng-container",1),n(5,"router-outlet",3),g("activate",function(V){return b(d),x(s.onActivate(V))}),o()}r&2&&(p("ngIf",$(1,3,s.header)),l(2),p("menuItems",s.menuItems.asObservable()),l(2),p("ngIf",!s.activeChildComponent))},dependencies:[q,Ge,$e,Fe,ze,Y],styles:[".wrapper_tabs[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:2rem}.wrapper_tabs__tab[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:.5rem;background-color:#31313b;color:#9b9b9b;margin:.5rem 1rem}.wrapper_tabs__tab-header[_ngcontent-%COMP%]{margin:.75rem;font-weight:600}.wrapper_tabs__tab-header[_ngcontent-%COMP%]   .marked[_ngcontent-%COMP%]{color:#75a0ff}.wrapper_tabs__tab[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.wrapper_tabs__tab[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem;margin:.7rem;fill:#9b9b9b}.wrapper_tabs__tab[_ngcontent-%COMP%]   .info__count[_ngcontent-%COMP%]{font-size:2.5rem;margin-top:1rem;margin-right:1rem}"]});let e=a;return e})();var C=function(e){return e[e.Game=0]="Game",e[e.Table=1]="Table",e}(C||{});function ut(e,a){if(e&1&&(n(0,"p"),c(1," game - "),n(2,"strong"),c(3),o()()),e&2){let i=m(2);l(3),y(i.data.gameName)}}function ht(e,a){if(e&1&&(n(0,"p"),c(1," date "),n(2,"strong"),c(3),M(4,"date"),o()()),e&2){let i=m(2);l(3),y(T(4,1,i.data.reservationDate,i.DATE_TIME_FORMAT))}}function Ct(e,a){if(e&1&&(n(0,"p"),c(1," existing table reservation "),n(2,"strong"),c(3),M(4,"date"),o()()),e&2){let i=m(2);l(3),y(T(4,1,i.data.tableReservationDate,i.DATE_TIME_FORMAT))}}function bt(e,a){if(e&1&&(S(0),n(1,"h3",12),c(2,"Approving reservation:"),o(),n(3,"div",13),v(4,ut,4,1,"p",2),n(5,"p"),c(6,"people "),n(7,"strong"),c(8),o()(),v(9,ht,5,4,"p",2)(10,Ct,5,4,"p",2),o(),P()),e&2){let i=m();l(4),p("ngIf",i.data.gameName),l(4),w(" ",i.data.numberOfGuests,""),l(),p("ngIf",!i.data.tableReservationDate),l(),p("ngIf",i.data.tableReservationDate)}}function xt(e,a){if(e&1&&(n(0,"p"),c(1," game - "),n(2,"strong"),c(3),o()()),e&2){let i=m(2);l(3),y(i.data.gameName)}}function yt(e,a){if(e&1&&(n(0,"p"),c(1," date "),n(2,"strong"),c(3),M(4,"date"),o()()),e&2){let i=m(2);l(3),y(T(4,1,i.data.reservationDate,i.DATE_TIME_FORMAT))}}function Mt(e,a){if(e&1&&(n(0,"p"),c(1," existing table reservation "),n(2,"strong"),c(3),M(4,"date"),o()()),e&2){let i=m(2);l(3),y(T(4,1,i.data.tableReservationDate,i.DATE_TIME_FORMAT))}}function Rt(e,a){if(e&1&&(S(0),n(1,"h3",12),c(2,"Declining reservation:"),o(),n(3,"div",13),v(4,xt,4,1,"p",2),n(5,"p"),c(6,"people "),n(7,"strong"),c(8),o()(),v(9,yt,5,4,"p",2)(10,Mt,5,4,"p",2),o(),P()),e&2){let i=m();l(4),p("ngIf",i.data.gameName),l(4),w(" ",i.data.numberOfGuests,""),l(),p("ngIf",!i.data.tableReservationDate),l(),p("ngIf",i.data.tableReservationDate)}}function Ot(e,a){if(e&1){let i=I();n(0,"button",14),g("click",function(){b(i);let r=m();return x(r.approveReservation())}),c(1," Approve "),o()}}function wt(e,a){if(e&1){let i=I();n(0,"button",15),g("click",function(){b(i);let r=m();return x(r.declineReservation())}),c(1," Decline "),o()}}var F=(()=>{let a=class a extends ye{constructor(t,r,s,d,u,V){super(u),this.data=t,this.dialogRef=r,this.spaceManagementService=s,this.gameService=d,this.toastService=u,this.fb=V,this.ReservationStatus=O,this.DATE_TIME_FORMAT=A.DATE_TIME_FORMAT,this.form=this.initFormGroup()}declineReservation(){this.data.type===C.Table?this.spaceManagementService.declinedReservation(this.data.reservationId,this.form.controls.publicNote.value,this.form.controls.internalNote.value).subscribe({next:()=>{this.toastService.success({message:"Reservation is declined",type:D.Success}),this.dialogRef.close(!0)},error:()=>{this.toastService.error({message:H.SomethingWrong,type:D.Error})}}):this.data.type===C.Game&&this.gameService.declinedReservation(this.data.reservationId,this.form.controls.publicNote.value,this.form.controls.internalNote.value).subscribe({next:()=>{this.toastService.success({message:"Reservation is declined",type:D.Success}),this.dialogRef.close(!0)},error:()=>{this.toastService.error({message:H.SomethingWrong,type:D.Error})}})}approveReservation(){this.data.type===C.Table?this.spaceManagementService.approveReservation(this.data.reservationId,this.form.controls.publicNote.value,this.form.controls.internalNote.value).subscribe({next:()=>{this.toastService.success({message:"Reservation is approved",type:D.Success}),this.dialogRef.close(!0)},error:()=>{this.toastService.error({message:H.SomethingWrong,type:D.Error})}}):this.data.type===C.Game&&this.gameService.approveReservation(this.data.reservationId,this.form.controls.publicNote.value,this.form.controls.internalNote.value).subscribe({next:()=>{this.toastService.success({message:"Reservation is approved",type:D.Success}),this.dialogRef.close(!0)},error:()=>{this.toastService.error({message:H.SomethingWrong,type:D.Error})}})}getControlDisplayName(t){return""}initFormGroup(){return this.fb.group({internalNote:new ee("",[]),publicNote:new ee("",[])})}};a.\u0275fac=function(r){return new(r||a)(f(Ce),f(he),f(k),f(B),f(ue),f(fe))},a.\u0275cmp=E({type:a,selectors:[["app-reservation-confirmation"]],features:[se],decls:18,vars:5,consts:[[1,"dialog-container"],[1,"wrapper"],[4,"ngIf"],[3,"formGroup"],[1,"input-field"],["for","internalNote"],["placeholder","internalNote","type","text","id","internalNote","formControlName","internalNote"],["for","publicNote"],["placeholder","publicNote","type","text","id","publicNote","formControlName","publicNote"],["mat-dialog-close","",1,"btn","btn__small","btn-blue"],["class","btn btn__small btn-green btn-border-green",3,"click",4,"ngIf"],["class","btn btn__small btn-red btn-border-red",3,"click",4,"ngIf"],[1,"dialog-container__header"],[1,"dialog-container__description"],[1,"btn","btn__small","btn-green","btn-border-green",3,"click"],[1,"btn","btn__small","btn-red","btn-border-red",3,"click"]],template:function(r,s){r&1&&(n(0,"div",0)(1,"div",1),v(2,bt,11,4,"ng-container",2)(3,Rt,11,4,"ng-container",2),n(4,"form",3)(5,"div",4)(6,"label",5),c(7,"Internal Note"),o(),_(8,"textarea",6),o(),n(9,"div",4)(10,"label",7),c(11,"Public Note"),o(),_(12,"textarea",8),o()()(),n(13,"mat-dialog-actions")(14,"button",9),c(15,"Cancel"),o(),v(16,Ot,2,0,"button",10)(17,wt,2,0,"button",11),o()()),r&2&&(l(2),p("ngIf",s.data.status===s.ReservationStatus.Approved),l(),p("ngIf",s.data.status===s.ReservationStatus.Declined),l(),p("formGroup",s.form),l(12),p("ngIf",s.data.status===s.ReservationStatus.Approved),l(),p("ngIf",s.data.status===s.ReservationStatus.Declined))},dependencies:[q,_e,pe,me,de,ve,ge,xe,be,G],styles:[".dialog-container[_ngcontent-%COMP%]{color:#fff;background-color:#31313b}.dialog-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{margin:1rem}.dialog-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .dialog-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background-color:#43434b}.dialog-container__header[_ngcontent-%COMP%]{margin:1rem 0}.dialog-container__description[_ngcontent-%COMP%]{margin:1rem 0;color:#75a0ff}.dialog-container[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:end}.dialog-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:.4rem}"]});let e=a;return e})();function St(e,a){e&1&&(n(0,"div",3),_(1,"img",4),n(2,"p",5),c(3,"No reservations"),o(),n(4,"p",6),c(5,"Your book with active reservations is empty"),o()())}function Pt(e,a){e&1&&(S(0),n(1,"button",14),h(),n(2,"svg",15),_(3,"path",16),o(),R(),n(4,"span",17),c(5,"Approved"),o()(),P())}function It(e,a){e&1&&(S(0),n(1,"button",14),h(),n(2,"svg",18),_(3,"path",19),o(),R(),n(4,"span",17),c(5,"Declined"),o()(),P())}function Tt(e,a){e&1&&(h(),n(0,"svg",23),_(1,"path",24),o())}function Et(e,a){e&1&&(h(),n(0,"svg",23),_(1,"path",25),o())}function Dt(e,a){if(e&1){let i=I();n(0,"div",26)(1,"button",27),g("click",function(){b(i);let r=m(2).$implicit,s=m(3);return x(s.approveReservation(r.reservationDate,r.numberOfGuests))}),h(),n(2,"svg",15),_(3,"path",16),o(),R(),n(4,"span",17),c(5,"Approve"),o()(),n(6,"button",27),g("click",function(){b(i);let r=m(2).$implicit,s=m(3);return x(s.declineReservation(r.reservationDate,r.numberOfGuests))}),h(),n(7,"svg",18),_(8,"path",19),o(),R(),n(9,"span",17),c(10,"Decline"),o()()()}}function At(e,a){if(e&1){let i=I();S(0),n(1,"div",20),g("click",function(){b(i);let r=m().$implicit,s=m(3);return x(s.toggleItem(r.id))}),v(2,Tt,2,0,"svg",21)(3,Et,2,0,"svg",21),o(),v(4,Dt,11,0,"div",22),P()}if(e&2){let i=m().$implicit,t=m(3);l(2),p("ngIf",i.id!==t.expandedReservationId),l(),p("ngIf",i.id===t.expandedReservationId),l(),p("ngIf",i.status===t.ReservationStatus.Pending)}}function Ht(e,a){if(e&1&&(n(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"p"),c(6),M(7,"date"),o()(),n(8,"span",13),c(9),o(),c(10," has booked a table for "),n(11,"span",13),c(12),o(),c(13),n(14,"div",12)(15,"p"),c(16," Reservation Date: "),n(17,"strong",13),c(18),M(19,"date"),o()()()()(),v(20,Pt,6,0,"ng-container",1)(21,It,6,0,"ng-container",1)(22,At,5,3,"ng-container",1),o()()),e&2){let i=a.$implicit,t=m(3);N("expanded",t.isExpanded(i.id)),l(6),w(" Created At: ",T(7,10,i.createdDate,t.DATE_TIME_FORMAT)," "),l(3),y(i.username),l(3),y(i.numberOfGuests),l(),w(" ",i.numberOfGuests===1?"person":"people"," "),l(5),y(T(19,13,i.reservationDate,t.DATE_TIME_FORMAT)),l(2),p("ngIf",i.status===t.ReservationStatus.Approved),l(),p("ngIf",i.status===t.ReservationStatus.Declined),l(),p("ngIf",i.status===t.ReservationStatus.Pending)}}function Nt(e,a){if(e&1&&(S(0),v(1,Ht,23,16,"div",7),P()),e&2){let i=m().ngIf;l(),p("ngForOf",i)}}function qt(e,a){if(e&1&&(S(0),v(1,St,6,0,"div",2)(2,Nt,2,1,"ng-container",1),P()),e&2){let i=a.ngIf;l(),p("ngIf",i.length===0),l(),p("ngIf",i.length!==0)}}var Je=(()=>{let a=class a{constructor(t,r,s,d){this.injector=t,this.router=r,this.dialog=s,this.spaceManagementService=d,this.showFilter=!1,this.expandedReservationId=null,this.ReservationStatus=O,this.DATE_TIME_FORMAT=A.DATE_TIME_FORMAT,this.reservationNavigationRef=this.injector.get(L,null),this.reservationNavigationRef&&this.reservationNavigationRef.header.next("Reservations")}ngOnInit(){this.reservedGames$=this.spaceManagementService.getActiveReservedTableList()}ngOnDestroy(){this.reservationNavigationRef&&this.reservationNavigationRef.removeActiveChildComponent()}toggleItem(t){this.expandedReservationId=this.expandedReservationId===t?null:t}isExpanded(t){return this.expandedReservationId===t}approveReservation(t,r){this.expandedReservationId&&this.dialog.open(F,{width:"17rem",data:{type:C.Table,reservationId:this.expandedReservationId,status:O.Approved,reservationDate:t,numberOfGuests:r}}).afterClosed().subscribe(d=>{d&&(this.reservedGames$=this.spaceManagementService.getActiveReservedTableList(),this.expandedReservationId=null)})}declineReservation(t,r){this.expandedReservationId&&this.dialog.open(F,{width:"17rem",data:{type:C.Table,reservationId:this.expandedReservationId,status:O.Declined,reservationDate:t,numberOfGuests:r}}).afterClosed().subscribe(d=>{d&&(this.reservedGames$=this.spaceManagementService.getActiveReservedTableList(),this.expandedReservationId=null)})}onHistory(){this.router.navigateByUrl("reservations/tables/history")}};a.\u0275fac=function(r){return new(r||a)(f(z),f(te),f(X),f(k))},a.\u0275cmp=E({type:a,selectors:[["app-space-table-active-reservations"]],decls:3,vars:3,consts:[[1,"wrapper_library"],[4,"ngIf"],["class","no_records",4,"ngIf"],[1,"no_records"],["src","/shared/assets/images/no-reservations.png","alt",""],[1,"first-header"],[1,"second-header"],["class","wrapper_library__item approve",3,"expanded",4,"ngFor","ngForOf"],[1,"wrapper_library__item","approve"],[1,"content"],[1,"wrapper_info"],[1,"wrapper_title"],[1,"wrapper_description"],[1,"blue"],["type","button",1,"btnWithIcon"],["viewBox","0 -960 960 960",1,"accept"],["d","m422.46-303.69 277.85-277.85L654-627.85 422.46-396.31l-116-116L260.15-466l162.31 162.31ZM480.13-88q-81.31 0-152.89-30.86-71.57-30.86-124.52-83.76-52.95-52.9-83.83-124.42Q88-398.55 88-479.87q0-81.56 30.92-153.37 30.92-71.8 83.92-124.91 53-53.12 124.42-83.48Q398.67-872 479.87-872q81.55 0 153.35 30.34 71.79 30.34 124.92 83.42 53.13 53.08 83.49 124.84Q872-561.64 872-480.05q0 81.59-30.34 152.83-30.34 71.23-83.41 124.28-53.07 53.05-124.81 84Q561.7-88 480.13-88Z"],[1,"header"],["viewBox","0 -960 960 960",1,"decline"],["d","m334-287.69 146-146 146 146L672.31-334l-146-146 146-146L626-672.31l-146 146-146-146L287.69-626l146 146-146 146L334-287.69ZM480.13-88q-81.31 0-152.89-30.86-71.57-30.86-124.52-83.76-52.95-52.9-83.83-124.42Q88-398.55 88-479.87q0-81.56 30.92-153.37 30.92-71.8 83.92-124.91 53-53.12 124.42-83.48Q398.67-872 479.87-872q81.55 0 153.35 30.34 71.79 30.34 124.92 83.42 53.13 53.08 83.49 124.84Q872-561.64 872-480.05q0 81.59-30.34 152.83-30.34 71.23-83.41 124.28-53.07 53.05-124.81 84Q561.7-88 480.13-88Z"],[1,"circle-btn",3,"click"],["class","menu","viewBox","0 -960 960 960",4,"ngIf"],["class","expanded-buttons",4,"ngIf"],["viewBox","0 -960 960 960",1,"menu"],["d","M480-330.46 525.54-376l-71-71H633v-66H454.54l71-71L480-629.54 330.46-480 480-330.46ZM480.13-88q-81.31 0-152.89-30.86-71.57-30.86-124.52-83.76-52.95-52.9-83.83-124.42Q88-398.55 88-479.87q0-81.56 30.92-153.37 30.92-71.8 83.92-124.91 53-53.12 124.42-83.48Q398.67-872 479.87-872q81.55 0 153.35 30.34 71.79 30.34 124.92 83.42 53.13 53.08 83.49 124.84Q872-561.64 872-480.05q0 81.59-30.34 152.83-30.34 71.23-83.41 124.28-53.07 53.05-124.81 84Q561.7-88 480.13-88Z"],["d","M480-330.46 629.54-480 480-629.54 434.46-584l71 71H327v66h178.46l-71 71L480-330.46ZM480.13-88q-81.31 0-152.89-30.86-71.57-30.86-124.52-83.76-52.95-52.9-83.83-124.42Q88-398.55 88-479.87q0-81.56 30.92-153.37 30.92-71.8 83.92-124.91 53-53.12 124.42-83.48Q398.67-872 479.87-872q81.55 0 153.35 30.34 71.79 30.34 124.92 83.42 53.13 53.08 83.49 124.84Q872-561.64 872-480.05q0 81.59-30.34 152.83-30.34 71.23-83.41 124.28-53.07 53.05-124.81 84Q561.7-88 480.13-88Z"],[1,"expanded-buttons"],["type","button",1,"btnWithIcon",3,"click"]],template:function(r,s){r&1&&(n(0,"section",0),v(1,qt,3,2,"ng-container",1),M(2,"async"),o()),r&2&&(l(),p("ngIf",$(2,1,s.reservedGames$)))},dependencies:[K,q,Y,G],styles:[".wrapper_library[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:85%;padding-bottom:7rem;margin:0 auto;padding-top:1.5rem;overflow-y:visible}.wrapper_library[_ngcontent-%COMP%]   .no_records[_ngcontent-%COMP%]{text-align:center;margin:2rem;font-size:1.5rem;display:flex;flex-direction:column;align-items:center}.wrapper_library[_ngcontent-%COMP%]   .no_records[_ngcontent-%COMP%]   .first-header[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.2rem}.wrapper_library[_ngcontent-%COMP%]   .no_records[_ngcontent-%COMP%]   .second-header[_ngcontent-%COMP%]{font-size:1.2rem;color:#9b9b9b}.wrapper_library[_ngcontent-%COMP%]   .no_records[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15rem;width:15rem}.wrapper_library__item.expanded[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{transform:translate(-150px)}.wrapper_library__item.expanded[_ngcontent-%COMP%]   .expanded-buttons[_ngcontent-%COMP%]{display:flex}.wrapper_library__item[_ngcontent-%COMP%]{position:relative;display:flex;padding-bottom:.3rem;padding-top:.5rem;border-bottom:.2rem solid #2b2e35;transition:transform .3s ease-in-out;overflow:hidden}.wrapper_library__item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;transform:translate(0);transition:transform .3s ease-in-out}.wrapper_library__item[_ngcontent-%COMP%]   .circle-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;margin:0}.wrapper_library__item[_ngcontent-%COMP%]   .circle-btn[_ngcontent-%COMP%]   .accept[_ngcontent-%COMP%]{fill:#46945b;width:3rem;height:3rem}.wrapper_library__item[_ngcontent-%COMP%]   .circle-btn[_ngcontent-%COMP%]   .decline[_ngcontent-%COMP%]{fill:#bf3c65;width:3rem;height:3rem}.wrapper_library__item[_ngcontent-%COMP%]   .circle-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin:.25rem}.wrapper_library__item[_ngcontent-%COMP%]   .circle-btn[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{fill:#75a0ff;width:2.5rem;height:2.5rem}.wrapper_library__item[_ngcontent-%COMP%]   .btnWithIcon[_ngcontent-%COMP%]{cursor:pointer;padding:1rem;border:none;background:transparent;color:#fff;border-radius:.25rem}.wrapper_library__item[_ngcontent-%COMP%]   .btnWithIcon[_ngcontent-%COMP%]   .accept[_ngcontent-%COMP%]{fill:#46945b;width:3rem;height:3rem}.wrapper_library__item[_ngcontent-%COMP%]   .btnWithIcon[_ngcontent-%COMP%]   .decline[_ngcontent-%COMP%]{fill:#bf3c65;width:3rem;height:3rem}.wrapper_library__item[_ngcontent-%COMP%]   .expanded-buttons[_ngcontent-%COMP%]{display:none;position:absolute;left:100%}.wrapper_library__item[_ngcontent-%COMP%]   .wrapper_info[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;justify-content:space-between}.wrapper_library__item[_ngcontent-%COMP%]   .wrapper_info[_ngcontent-%COMP%]   .wrapper_title[_ngcontent-%COMP%]{padding-left:1rem;font-size:large;padding-top:.2rem;align-self:baseline}.wrapper_library__item[_ngcontent-%COMP%]   .wrapper_info[_ngcontent-%COMP%]   .wrapper_title[_ngcontent-%COMP%]   .blue[_ngcontent-%COMP%]{color:#75a0ff}.wrapper_library__item[_ngcontent-%COMP%]   .wrapper_info[_ngcontent-%COMP%]   .wrapper_title[_ngcontent-%COMP%]   .wrapper_description[_ngcontent-%COMP%]{padding-top:.25rem;width:100%;font-size:1rem;color:#9b9b9b}.wrapper_library__item[_ngcontent-%COMP%]   .wrapper_info[_ngcontent-%COMP%]   .wrapper_title[_ngcontent-%COMP%]   .wrapper_description[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#46945b}.wrapper_library__item[_ngcontent-%COMP%]   .wrapper_info[_ngcontent-%COMP%]   .wrapper_title[_ngcontent-%COMP%]   .wrapper_description[_ngcontent-%COMP%]   .unsuccess[_ngcontent-%COMP%]{color:#bf3c65}.wrapper_library__item[_ngcontent-%COMP%]   .wrapper_image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem;height:5rem;min-width:5rem;min-height:5rem;object-fit:cover;border-radius:20px;border:.1rem solid black}"]});let e=a;return e})();var W=function(e){return e[e.Edit=0]="Edit",e[e.Delete=1]="Delete",e}(W||{});function Gt(e,a){if(e&1&&(S(0),n(1,"h3",12),c(2,"Information:"),o(),n(3,"div",13)(4,"p"),c(5,"people "),n(6,"strong"),c(7),o()(),n(8,"p"),c(9," date "),n(10,"strong"),c(11),M(12,"date"),o()()(),P()),e&2){let i=m();l(7),w(" ",i.reservation.numberOfGuests,""),l(4),y(T(12,2,i.reservation.reservationDate,i.DATE_TIME_FORMAT))}}function Ft(e,a){if(e&1){let i=I();n(0,"button",14),g("click",function(){b(i);let r=m();return x(r.updateReservation())}),c(1," Update "),o()}}function Vt(e,a){if(e&1){let i=I();n(0,"button",15),g("click",function(){b(i);let r=m();return x(r.deleteReservation())}),c(1," Delete "),o()}}var ne=(()=>{let a=class a extends ye{constructor(t,r,s,d,u,V){super(u),this.data=t,this.spaceManagementService=r,this.gameService=s,this.dialogRef=d,this.toastService=u,this.fb=V,this.ReservationDetailsActions=W,this.DATE_TIME_FORMAT=A.DATE_TIME_FORMAT,this.form=this.initFormGroup(),t.type===C.Table?this.spaceManagementService.getReservationById(this.data.reservationId).subscribe({next:j=>{console.log(j),this.reservation=j,this.form.patchValue({internalNote:j.internalNote,publicNote:j.publicNote})}}):t.type===C.Game&&this.gameService.getReservationById(this.data.reservationId).subscribe({next:j=>{console.log(j),this.reservation=j,this.form.patchValue({internalNote:j.internalNote,publicNote:j.publicNote})}})}updateReservation(){this.data.type===C.Table?this.spaceManagementService.updateReservation(this.data.reservationId,this.form.controls.publicNote.value,this.form.controls.internalNote.value).subscribe({next:()=>{this.toastService.success({message:H.ChangesSaved,type:D.Success}),this.dialogRef.close(!0)},error:()=>{this.toastService.error({message:H.SomethingWrong,type:D.Error})}}):this.data.type===C.Game&&this.gameService.updateReservation(this.data.reservationId,this.form.controls.publicNote.value,this.form.controls.internalNote.value).subscribe({next:()=>{this.toastService.success({message:H.ChangesSaved,type:D.Success}),this.dialogRef.close(!0)},error:()=>{this.toastService.error({message:H.SomethingWrong,type:D.Error})}})}deleteReservation(){this.data.type===C.Table?this.spaceManagementService.deleteReservation(this.data.reservationId).subscribe({next:()=>{this.toastService.success({message:H.ChangesApplied,type:D.Success}),this.dialogRef.close(!0)},error:()=>{this.toastService.error({message:H.SomethingWrong,type:D.Error})}}):this.data.type===C.Game&&this.gameService.deleteReservation(this.data.reservationId).subscribe({next:()=>{this.toastService.success({message:H.ChangesApplied,type:D.Success}),this.dialogRef.close(!0)},error:()=>{this.toastService.error({message:H.SomethingWrong,type:D.Error})}})}getControlDisplayName(t){return""}initFormGroup(){return this.fb.group({internalNote:new ee("",[]),publicNote:new ee("",[])})}};a.\u0275fac=function(r){return new(r||a)(f(Ce),f(k),f(B),f(he),f(ue),f(fe))},a.\u0275cmp=E({type:a,selectors:[["app-reservation-details"]],features:[se],decls:17,vars:4,consts:[[1,"dialog-container"],[1,"wrapper"],[4,"ngIf"],[3,"formGroup"],[1,"input-field"],["for","internalNote"],["placeholder","Nobody add an internal note","type","text","id","internalNote","formControlName","internalNote"],["for","publicNote"],["placeholder","Nobody add an public note","type","text","id","publicNote","formControlName","publicNote"],["mat-dialog-close","",1,"btn","btn__small","btn-blue"],["class","btn btn__small btn-yellow btn-border-yellow",3,"click",4,"ngIf"],["class","btn btn__small btn-red btn-border-red",3,"click",4,"ngIf"],[1,"dialog-container__header"],[1,"dialog-container__description"],[1,"btn","btn__small","btn-yellow","btn-border-yellow",3,"click"],[1,"btn","btn__small","btn-red","btn-border-red",3,"click"]],template:function(r,s){r&1&&(n(0,"div",0)(1,"div",1),v(2,Gt,13,5,"ng-container",2),n(3,"form",3)(4,"div",4)(5,"label",5),c(6,"Internal Note"),o(),_(7,"textarea",6),o(),n(8,"div",4)(9,"label",7),c(10,"Public Note"),o(),_(11,"textarea",8),o()()(),n(12,"mat-dialog-actions")(13,"button",9),c(14,"Cancel"),o(),v(15,Ft,2,0,"button",10)(16,Vt,2,0,"button",11),o()()),r&2&&(l(2),p("ngIf",s.reservation),l(),p("formGroup",s.form),l(12),p("ngIf",s.data.action===s.ReservationDetailsActions.Edit),l(),p("ngIf",s.data.action===s.ReservationDetailsActions.Delete))},dependencies:[q,_e,pe,me,de,ve,ge,xe,be,G],styles:[".dialog-container[_ngcontent-%COMP%]{color:#fff;background-color:#31313b}.dialog-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{margin:1rem}.dialog-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .dialog-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background-color:#43434b}.dialog-container__header[_ngcontent-%COMP%]{margin:1rem 0}.dialog-container__description[_ngcontent-%COMP%]{margin:1rem 0;color:#75a0ff}.dialog-container[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:end}.dialog-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:.4rem}"]});let e=a;return e})();var Oe=(()=>{let a=class a{constructor(){this.expandedReservationIdReset=new U,this.updateHistory=new U,this.selectedFilter=null,this.ReservationStatus=O}applyFilter(t=null){this.selectedFilter=t,this.expandedReservationIdReset.emit(),this.updateHistory.emit(t)}};a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=E({type:a,selectors:[["app-reservation-history-filters"]],outputs:{expandedReservationIdReset:"expandedReservationIdReset",updateHistory:"updateHistory"},decls:26,vars:10,consts:[[1,"wrapper_filters"],[1,"filter",3,"click"],["viewBox","0 -960 960 960",1,"all"],["d","M214.42-264q-90.06 0-153.24-63.16Q-2-390.32-2-480.43q0-90.11 62.91-153.84Q123.83-698 214.26-698q35.67 0 69.44 11.85 33.76 11.84 60.45 37.53l77.93 69.77-49.77 43.31-72.46-63.84q-18.08-16.16-40.43-24.39-22.34-8.23-45.83-8.23-61.91 0-105.75 44.41T64-480.36q0 62.82 43.8 106.59Q151.61-330 213.57-330q23.51 0 45.85-8.23 22.35-8.23 40.43-24.39l316-286q25.92-26.46 59.93-37.92t69.8-11.46q90.06 0 153.24 63.16Q962-571.68 962-482.07q0 90.61-62.91 154.34Q836.17-264 745.74-264q-35.89 0-69.16-12.23-33.27-12.23-60.73-37.15l-76.39-67.77 49.23-45.08 71.46 63.61q18.08 17.08 40.43 24.85 22.34 7.77 45.83 7.77 61.91 0 105.75-44.41T896-481.64q0-62.82-43.8-106.59Q808.39-632 746.43-632q-23.51 0-45.85 8.23-22.35 8.23-40.43 24.39l-316 286q-25.92 26.46-59.93 37.92T214.42-264Z"],[1,"text"],["viewBox","0 -960 960 960",1,"expired"],["d","M87-168v-66h40v-81.15q0-56.39 28-104.43 28-48.04 82.31-60.42-55.08-11.38-82.69-59.81Q127-588.23 127-645.38V-726H87v-66h483.38v66h-38.46v80.62q0 57.92-28.88 106.46-28.89 48.54-84.96 58.92 56.07 11.38 84.96 59.54 28.88 48.15 28.88 105.31V-234h38.46v66H87Zm707.38 0L663.69-297.69 707.23-343l53.15 52.15V-791h65v498.38L875.77-344l47.31 47.31L794.38-168Z"],["viewBox","0 -960 960 960",1,"pending"],["d","M276.03-426q22.51 0 38.24-15.76T330-480.03q0-22.51-15.76-38.24T275.97-534q-22.51 0-38.24 15.76T222-479.97q0 22.51 15.76 38.24T276.03-426Zm204 0q22.51 0 38.24-15.76T534-480.03q0-22.51-15.76-38.24T479.97-534q-22.51 0-38.24 15.76T426-479.97q0 22.51 15.76 38.24T480.03-426Zm204 0q22.51 0 38.24-15.76T738-480.03q0-22.51-15.76-38.24T683.97-534q-22.51 0-38.24 15.76T630-479.97q0 22.51 15.76 38.24T684.03-426ZM480.13-88q-81.31 0-152.89-30.86-71.57-30.86-124.52-83.76-52.95-52.9-83.83-124.42Q88-398.55 88-479.87q0-81.56 30.92-153.37 30.92-71.8 83.92-124.91 53-53.12 124.42-83.48Q398.67-872 479.87-872q81.55 0 153.35 30.34 71.79 30.34 124.92 83.42 53.13 53.08 83.49 124.84Q872-561.64 872-480.05q0 81.59-30.34 152.83-30.34 71.23-83.41 124.28-53.07 53.05-124.81 84Q561.7-88 480.13-88Z"],["viewBox","0 -960 960 960",1,"accept"],["d","m422.46-303.69 277.85-277.85L654-627.85 422.46-396.31l-116-116L260.15-466l162.31 162.31ZM480.13-88q-81.31 0-152.89-30.86-71.57-30.86-124.52-83.76-52.95-52.9-83.83-124.42Q88-398.55 88-479.87q0-81.56 30.92-153.37 30.92-71.8 83.92-124.91 53-53.12 124.42-83.48Q398.67-872 479.87-872q81.55 0 153.35 30.34 71.79 30.34 124.92 83.42 53.13 53.08 83.49 124.84Q872-561.64 872-480.05q0 81.59-30.34 152.83-30.34 71.23-83.41 124.28-53.07 53.05-124.81 84Q561.7-88 480.13-88Z"],["viewBox","0 -960 960 960",1,"decline"],["d","m334-287.69 146-146 146 146L672.31-334l-146-146 146-146L626-672.31l-146 146-146-146L287.69-626l146 146-146 146L334-287.69ZM480.13-88q-81.31 0-152.89-30.86-71.57-30.86-124.52-83.76-52.95-52.9-83.83-124.42Q88-398.55 88-479.87q0-81.56 30.92-153.37 30.92-71.8 83.92-124.91 53-53.12 124.42-83.48Q398.67-872 479.87-872q81.55 0 153.35 30.34 71.79 30.34 124.92 83.42 53.13 53.08 83.49 124.84Q872-561.64 872-480.05q0 81.59-30.34 152.83-30.34 71.23-83.41 124.28-53.07 53.05-124.81 84Q561.7-88 480.13-88Z"]],template:function(r,s){r&1&&(n(0,"section",0)(1,"div",1),g("click",function(){return s.applyFilter()}),h(),n(2,"svg",2),_(3,"path",3),o(),R(),n(4,"span",4),c(5,"ALL"),o()(),n(6,"div",1),g("click",function(){return s.applyFilter(s.ReservationStatus.Expired)}),h(),n(7,"svg",5),_(8,"path",6),o(),R(),n(9,"span",4),c(10,"EXPIRED"),o()(),n(11,"div",1),g("click",function(){return s.applyFilter(s.ReservationStatus.Pending)}),h(),n(12,"svg",7),_(13,"path",8),o(),R(),n(14,"span",4),c(15,"PENDING"),o()(),n(16,"div",1),g("click",function(){return s.applyFilter(s.ReservationStatus.Approved)}),h(),n(17,"svg",9),_(18,"path",10),o(),R(),n(19,"span",4),c(20,"APPROVED"),o()(),n(21,"div",1),g("click",function(){return s.applyFilter(s.ReservationStatus.Declined)}),h(),n(22,"svg",11),_(23,"path",12),o(),R(),n(24,"span",4),c(25,"DECLINED"),o()()()),r&2&&(l(),N("active",s.selectedFilter===null),l(5),N("active",s.selectedFilter===s.ReservationStatus.Expired),l(5),N("active",s.selectedFilter===s.ReservationStatus.Pending),l(5),N("active",s.selectedFilter===s.ReservationStatus.Approved),l(5),N("active",s.selectedFilter===s.ReservationStatus.Declined))},styles:[".wrapper_filters[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;width:90%;margin:0 auto;margin-top:1rem}.wrapper_filters[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.wrapper_filters[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:.65rem}.wrapper_filters[_ngcontent-%COMP%]   .all[_ngcontent-%COMP%]{fill:#75a0ff;width:2.5rem;height:2.5rem;opacity:.5}.wrapper_filters[_ngcontent-%COMP%]   .accept[_ngcontent-%COMP%]{fill:#46945b;width:2.5rem;height:2.5rem;opacity:.5}.wrapper_filters[_ngcontent-%COMP%]   .expired[_ngcontent-%COMP%]{fill:#98989d;width:2.5rem;height:2.5rem;opacity:.5}.wrapper_filters[_ngcontent-%COMP%]   .pending[_ngcontent-%COMP%]{fill:#977f33;width:2.5rem;height:2.5rem;opacity:.5}.wrapper_filters[_ngcontent-%COMP%]   .decline[_ngcontent-%COMP%]{fill:#bf3c65;width:2.5rem;height:2.5rem;opacity:.5}.wrapper_filters[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .accept[_ngcontent-%COMP%], .wrapper_filters[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .pending[_ngcontent-%COMP%], .wrapper_filters[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .decline[_ngcontent-%COMP%], .wrapper_filters[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .expired[_ngcontent-%COMP%], .wrapper_filters[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .all[_ngcontent-%COMP%]{opacity:1}.wrapper_filters[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#75a0ff}"]});let e=a;return e})();var kt=e=>({$implicit:e});function Bt(e,a){if(e&1&&(n(0,"div",4),_(1,"img",5),n(2,"p",6),c(3," No "),n(4,"strong",7),c(5),o(),c(6," reservations found "),o()()),e&2){let i=m(2);l(5),w(" ",i.selectedFilter===null?"Available":i.ReservationStatus[i.selectedFilter],"")}}function Qt(e,a){e&1&&De(0)}function Lt(e,a){e&1&&(h(),n(0,"svg",17),_(1,"path",18),o())}function jt(e,a){e&1&&(h(),n(0,"svg",19),_(1,"path",20),o())}function Zt(e,a){e&1&&(h(),n(0,"svg",21),_(1,"path",22),o())}function $t(e,a){e&1&&(h(),n(0,"svg",23),_(1,"path",24),o())}function Wt(e,a){if(e&1){let i=I();n(0,"div",25)(1,"button",26),g("click",function(r){b(i);let s=m().$implicit,d=m(2);return x(d.updateReservation(s.id,r))}),h(),n(2,"svg",27),_(3,"path",28),o(),R(),n(4,"span",29),c(5,"Update"),o()(),n(6,"button",26),g("click",function(r){b(i);let s=m().$implicit,d=m(2);return x(d.deleteReservation(s.id,r))}),h(),n(7,"svg",30),_(8,"path",31),o(),R(),n(9,"span",29),c(10,"Delete"),o()()()}}function zt(e,a){if(e&1){let i=I();n(0,"div",25)(1,"button",26),g("click",function(r){b(i);let s=m().$implicit,d=m(2);return x(d.approveReservation(s,r))}),h(),n(2,"svg",32),_(3,"path",22),o(),R(),n(4,"span",29),c(5,"Approve"),o()(),n(6,"button",26),g("click",function(r){b(i);let s=m().$implicit,d=m(2);return x(d.declineReservation(s,r))}),h(),n(7,"svg",23),_(8,"path",24),o(),R(),n(9,"span",29),c(10,"Decline"),o()()()}}function Ut(e,a){e&1&&(n(0,"div",36)(1,"p"),c(2,"The reservation has expired with no response."),o()())}function Yt(e,a){if(e&1){let i=I();n(0,"div",25)(1,"button",26),g("click",function(r){b(i);let s=m(3);return x(s.showInfoForExpiredRecord(r))}),h(),n(2,"svg",33),_(3,"path",34),o(),R(),n(4,"span",29),c(5,"Info"),o(),v(6,Ut,3,0,"div",35),o(),n(7,"button",26),g("click",function(r){b(i);let s=m().$implicit,d=m(2);return x(d.deleteReservation(s.id,r))}),h(),n(8,"svg",30),_(9,"path",31),o(),R(),n(10,"span",29),c(11,"Delete"),o()()()}if(e&2){let i=m(3);l(6),p("ngIf",i.isInfoForExpiredRecordVisible)}}function Xt(e,a){if(e&1){let i=I();n(0,"div",8),g("click",function(){let r=b(i).$implicit,s=m(2);return x(s.toggleItem(r.id))}),n(1,"div",9),v(2,Qt,1,0,"ng-container",10),n(3,"div",11),v(4,Lt,2,0,"svg",12)(5,jt,2,0,"svg",13)(6,Zt,2,0,"svg",14)(7,$t,2,0,"svg",15),o(),v(8,Wt,11,0,"div",16)(9,zt,11,0,"div",16)(10,Yt,12,1,"div",16),o()()}if(e&2){let i=a.$implicit,t=m(2);N("expanded",t.isExpanded(i.id)),l(2),p("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",ie(11,kt,i)),l(2),p("ngIf",i.status===t.ReservationStatus.Expired),l(),p("ngIf",i.status===t.ReservationStatus.Pending),l(),p("ngIf",i.status===t.ReservationStatus.Approved),l(),p("ngIf",i.status===t.ReservationStatus.Declined),l(),p("ngIf",i.status===t.ReservationStatus.Declined||i.status===t.ReservationStatus.Approved),l(),p("ngIf",i.status===t.ReservationStatus.Pending),l(),p("ngIf",i.status===t.ReservationStatus.Expired)}}function Jt(e,a){if(e&1&&(n(0,"section",1),v(1,Bt,7,1,"div",2)(2,Xt,11,13,"div",3),o()),e&2){let i=a.ngIf;l(),p("ngIf",i.length===0),l(),p("ngForOf",i)}}var we=(()=>{let a=class a{constructor(){this.selectedFilter=null,this.updateReservationHistoryById=new U,this.deleteReservationHistoryById=new U,this.approveReservationHistory=new U,this.declineReservationHistory=new U,this.isInfoForExpiredRecordVisible=!1,this.ReservationType=C,this.ReservationStatus=O,this.DATE_TIME_FORMAT=A.DATE_TIME_FORMAT}toggleItem(t){this.expandedReservationId.next(this.expandedReservationId.value===t?null:t),this.expandedReservationId.value===null&&(this.isInfoForExpiredRecordVisible=!1)}isExpanded(t){return this.expandedReservationId.value===t}updateReservation(t,r){r&&r.stopPropagation(),this.updateReservationHistoryById.emit(t)}deleteReservation(t,r){r&&r.stopPropagation(),this.deleteReservationHistoryById.emit(t)}showInfoForExpiredRecord(t){t&&t.stopPropagation(),this.isInfoForExpiredRecordVisible=!this.isInfoForExpiredRecordVisible}approveReservation(t,r){r&&r.stopPropagation(),this.approveReservationHistory.emit(t)}declineReservation(t,r){r&&r.stopPropagation(),this.declineReservationHistory.emit(t)}};a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=E({type:a,selectors:[["app-reservation-history-actions"]],contentQueries:function(r,s,d){if(r&1&&Ae(d,Ee,5),r&2){let u;ce(u=le())&&(s.contentTemplate=u.first)}},inputs:{historyList:"historyList",expandedReservationId:"expandedReservationId",selectedFilter:"selectedFilter"},outputs:{updateReservationHistoryById:"updateReservationHistoryById",deleteReservationHistoryById:"deleteReservationHistoryById",approveReservationHistory:"approveReservationHistory",declineReservationHistory:"declineReservationHistory"},decls:2,vars:3,consts:[["class","wrapper_library",4,"ngIf"],[1,"wrapper_library"],["class","no_records",4,"ngIf"],["class","wrapper_library__item approve",3,"expanded","click",4,"ngFor","ngForOf"],[1,"no_records"],["src","/shared/assets/images/no-reservations.png","alt",""],[1,"first-header"],[1,"blue"],[1,"wrapper_library__item","approve",3,"click"],[1,"content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"circle-btn"],["class","expired","viewBox","0 -960 960 960",4,"ngIf"],["class","pending","viewBox","0 -960 960 960",4,"ngIf"],["class","accept","viewBox","0 -960 960 960",4,"ngIf"],["class","decline","viewBox","0 -960 960 960",4,"ngIf"],["class","expanded-buttons",4,"ngIf"],["viewBox","0 -960 960 960",1,"expired"],["d","M87-168v-66h40v-81.15q0-56.39 28-104.43 28-48.04 82.31-60.42-55.08-11.38-82.69-59.81Q127-588.23 127-645.38V-726H87v-66h483.38v66h-38.46v80.62q0 57.92-28.88 106.46-28.89 48.54-84.96 58.92 56.07 11.38 84.96 59.54 28.88 48.15 28.88 105.31V-234h38.46v66H87Zm707.38 0L663.69-297.69 707.23-343l53.15 52.15V-791h65v498.38L875.77-344l47.31 47.31L794.38-168Z"],["viewBox","0 -960 960 960",1,"pending"],["d","M276.03-426q22.51 0 38.24-15.76T330-480.03q0-22.51-15.76-38.24T275.97-534q-22.51 0-38.24 15.76T222-479.97q0 22.51 15.76 38.24T276.03-426Zm204 0q22.51 0 38.24-15.76T534-480.03q0-22.51-15.76-38.24T479.97-534q-22.51 0-38.24 15.76T426-479.97q0 22.51 15.76 38.24T480.03-426Zm204 0q22.51 0 38.24-15.76T738-480.03q0-22.51-15.76-38.24T683.97-534q-22.51 0-38.24 15.76T630-479.97q0 22.51 15.76 38.24T684.03-426ZM480.13-88q-81.31 0-152.89-30.86-71.57-30.86-124.52-83.76-52.95-52.9-83.83-124.42Q88-398.55 88-479.87q0-81.56 30.92-153.37 30.92-71.8 83.92-124.91 53-53.12 124.42-83.48Q398.67-872 479.87-872q81.55 0 153.35 30.34 71.79 30.34 124.92 83.42 53.13 53.08 83.49 124.84Q872-561.64 872-480.05q0 81.59-30.34 152.83-30.34 71.23-83.41 124.28-53.07 53.05-124.81 84Q561.7-88 480.13-88Z"],["viewBox","0 -960 960 960",1,"accept"],["d","m422.46-303.69 277.85-277.85L654-627.85 422.46-396.31l-116-116L260.15-466l162.31 162.31ZM480.13-88q-81.31 0-152.89-30.86-71.57-30.86-124.52-83.76-52.95-52.9-83.83-124.42Q88-398.55 88-479.87q0-81.56 30.92-153.37 30.92-71.8 83.92-124.91 53-53.12 124.42-83.48Q398.67-872 479.87-872q81.55 0 153.35 30.34 71.79 30.34 124.92 83.42 53.13 53.08 83.49 124.84Q872-561.64 872-480.05q0 81.59-30.34 152.83-30.34 71.23-83.41 124.28-53.07 53.05-124.81 84Q561.7-88 480.13-88Z"],["viewBox","0 -960 960 960",1,"decline"],["d","m334-287.69 146-146 146 146L672.31-334l-146-146 146-146L626-672.31l-146 146-146-146L287.69-626l146 146-146 146L334-287.69ZM480.13-88q-81.31 0-152.89-30.86-71.57-30.86-124.52-83.76-52.95-52.9-83.83-124.42Q88-398.55 88-479.87q0-81.56 30.92-153.37 30.92-71.8 83.92-124.91 53-53.12 124.42-83.48Q398.67-872 479.87-872q81.55 0 153.35 30.34 71.79 30.34 124.92 83.42 53.13 53.08 83.49 124.84Q872-561.64 872-480.05q0 81.59-30.34 152.83-30.34 71.23-83.41 124.28-53.07 53.05-124.81 84Q561.7-88 480.13-88Z"],[1,"expanded-buttons"],["type","button",1,"btnWithIcon",3,"click"],["viewBox","0 -960 960 960",1,"edit"],["d","M128-128v-136.77l557.23-558.77q5.15-5.48 11.57-6.97 6.43-1.49 12.49-1.49 6.06 0 11.12.54 5.05.54 11.44 6.15l92.69 91.93q5.61 6.38 6.54 12 .92 5.63.92 12.25 0 6.13-1.74 12.06-1.74 5.92-6.72 11.07L264.77-128H128Zm565.15-520.46L754-708.54 708.54-753l-60.08 59.85 44.69 44.69Z"],[1,"header"],["viewBox","0 -960 960 960",1,"delete"],["d","M300.62-128q-38.35 0-64.48-26.14Q210-180.27 210-218.62V-724h-40v-66h188v-38.77h246V-790h188v66h-40v505.38q0 38.35-26.14 64.48Q699.73-128 661.38-128H300.62Zm70.69-147h66v-368h-66v368Zm153.38 0h66v-368h-66v368Z"],["viewBox","0 -960 960 960",1,"approve"],["viewBox","0 -960 960 960",1,"info"],["d","M448-284h66v-236h-66v236Zm31.82-308.92q14.64 0 24.72-9.9 10.08-9.91 10.08-24.54 0-14.64-9.91-24.72-9.9-10.07-24.53-10.07-14.64 0-24.72 9.9-10.08 9.9-10.08 24.54 0 14.63 9.91 24.71 9.9 10.08 24.53 10.08ZM480.13-88q-81.31 0-152.89-30.86-71.57-30.86-124.52-83.76-52.95-52.9-83.83-124.42Q88-398.55 88-479.87q0-81.56 30.92-153.37 30.92-71.8 83.92-124.91 53-53.12 124.42-83.48Q398.67-872 479.87-872q81.55 0 153.35 30.34 71.79 30.34 124.92 83.42 53.13 53.08 83.49 124.84Q872-561.64 872-480.05q0 81.59-30.34 152.83-30.34 71.23-83.41 124.28-53.07 53.05-124.81 84Q561.7-88 480.13-88Z"],["class","info_text",4,"ngIf"],[1,"info_text"]],template:function(r,s){r&1&&(v(0,Jt,3,2,"section",0),M(1,"async")),r&2&&p("ngIf",$(1,1,s.historyList))},dependencies:[K,q,qe,Y],styles:[".wrapper_library[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:85%;padding-bottom:7rem;margin:0 auto;padding-top:.5rem;overflow-y:visible}.wrapper_library[_ngcontent-%COMP%]   .no_records[_ngcontent-%COMP%]{text-align:center;margin:2rem;font-size:1.5rem;display:flex;flex-direction:column;align-items:center}.wrapper_library[_ngcontent-%COMP%]   .no_records[_ngcontent-%COMP%]   .first-header[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.2rem}.wrapper_library[_ngcontent-%COMP%]   .no_records[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15rem;width:15rem}.wrapper_library__item.expanded[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{--expanded-offset: 150px;transform:translate(-150px)}.wrapper_library__item.expanded[_ngcontent-%COMP%]   .expanded-buttons[_ngcontent-%COMP%]{display:flex}.wrapper_library__item[_ngcontent-%COMP%]{position:relative;display:flex;padding-bottom:.3rem;padding-top:.5rem;border-bottom:.2rem solid #2b2e35;transition:transform .3s ease-in-out;overflow:hidden}.wrapper_library__item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;transform:translate(0);transition:transform .3s ease-in-out}.wrapper_library__item[_ngcontent-%COMP%]   .circle-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;margin:0}.wrapper_library__item[_ngcontent-%COMP%]   .circle-btn[_ngcontent-%COMP%]   .accept[_ngcontent-%COMP%]{fill:#46945b;width:3rem;height:3rem}.wrapper_library__item[_ngcontent-%COMP%]   .circle-btn[_ngcontent-%COMP%]   .expired[_ngcontent-%COMP%]{fill:#98989d;width:3rem;height:3rem}.wrapper_library__item[_ngcontent-%COMP%]   .circle-btn[_ngcontent-%COMP%]   .pending[_ngcontent-%COMP%]{fill:#977f33;width:3rem;height:3rem}.wrapper_library__item[_ngcontent-%COMP%]   .circle-btn[_ngcontent-%COMP%]   .decline[_ngcontent-%COMP%]{fill:#bf3c65;width:3rem;height:3rem}.wrapper_library__item[_ngcontent-%COMP%]   .circle-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin:.25rem}.wrapper_library__item[_ngcontent-%COMP%]   .circle-btn[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{color:#75a0ff}.wrapper_library__item[_ngcontent-%COMP%]   .expanded-buttons[_ngcontent-%COMP%]{display:none;position:absolute;left:100%}.wrapper_library__item[_ngcontent-%COMP%]   .expanded-buttons[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:var(--expanded-offset-10px);text-align:center}.wrapper_library__item[_ngcontent-%COMP%]   .expanded-buttons[_ngcontent-%COMP%]   .btnWithIcon[_ngcontent-%COMP%]{cursor:pointer;padding:1rem;border:none;background:transparent;color:#fff;border-radius:.25rem}.wrapper_library__item[_ngcontent-%COMP%]   .expanded-buttons[_ngcontent-%COMP%]   .btnWithIcon[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{fill:#977f33;width:3rem;height:3rem}.wrapper_library__item[_ngcontent-%COMP%]   .expanded-buttons[_ngcontent-%COMP%]   .btnWithIcon[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%], .wrapper_library__item[_ngcontent-%COMP%]   .expanded-buttons[_ngcontent-%COMP%]   .btnWithIcon[_ngcontent-%COMP%]   .decline[_ngcontent-%COMP%]{fill:#bf3c65;width:3rem;height:3rem}.wrapper_library__item[_ngcontent-%COMP%]   .expanded-buttons[_ngcontent-%COMP%]   .btnWithIcon[_ngcontent-%COMP%]   .approve[_ngcontent-%COMP%]{fill:#46945b;width:3rem;height:3rem}.wrapper_library__item[_ngcontent-%COMP%]   .expanded-buttons[_ngcontent-%COMP%]   .btnWithIcon[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{fill:#75a0ff;width:3rem;height:3rem}.wrapper_library__item[_ngcontent-%COMP%]   .expanded-buttons[_ngcontent-%COMP%]   .btnWithIcon[_ngcontent-%COMP%]   .info_text[_ngcontent-%COMP%]{position:absolute;right:8.5rem;top:1rem;background-color:#2b2e35;border-radius:.5rem;border:.1rem solid #75a0ff;padding:.5rem;z-index:1000;width:10rem;text-align:center}.wrapper_library__item[_ngcontent-%COMP%]   .wrapper_info[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;justify-content:space-between}.wrapper_library__item[_ngcontent-%COMP%]   .wrapper_info[_ngcontent-%COMP%]   .wrapper_title[_ngcontent-%COMP%]{padding-left:1rem;font-size:large;padding-top:.2rem;align-self:baseline}.wrapper_library__item[_ngcontent-%COMP%]   .wrapper_info[_ngcontent-%COMP%]   .wrapper_title[_ngcontent-%COMP%]   .wrapper_description[_ngcontent-%COMP%]{padding-top:.25rem;width:100%;font-size:1rem;color:#9b9b9b}.wrapper_library__item[_ngcontent-%COMP%]   .wrapper_info[_ngcontent-%COMP%]   .wrapper_title[_ngcontent-%COMP%]   .wrapper_description[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#46945b}.wrapper_library__item[_ngcontent-%COMP%]   .wrapper_info[_ngcontent-%COMP%]   .wrapper_title[_ngcontent-%COMP%]   .wrapper_description[_ngcontent-%COMP%]   .unsuccess[_ngcontent-%COMP%]{color:#bf3c65}.wrapper_library__item[_ngcontent-%COMP%]   .wrapper_image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem;height:5rem;min-width:5rem;min-height:5rem;object-fit:cover;border-radius:20px;border:.1rem solid black}.blue[_ngcontent-%COMP%]{color:#75a0ff}"]});let e=a;return e})();function Kt(e,a){if(e&1&&(n(0,"div",2)(1,"div",3)(2,"div",4)(3,"p"),c(4),M(5,"date"),o()(),n(6,"span",5),c(7),o(),c(8," has booked a table for "),n(9,"span",5),c(10),o(),c(11),n(12,"div",4)(13,"p"),c(14," Reservation Date: "),n(15,"strong",5),c(16),M(17,"date"),o()()()()()),e&2){let i=a.$implicit,t=m();l(4),w(" Created At: ",T(5,5,i.createdDate,t.DATE_TIME_FORMAT)," "),l(3),y(i.username),l(3),y(i.numberOfGuests),l(),w(" ",i.numberOfGuests===1?"person":"people"," "),l(5),y(T(17,8,i.reservationDate,t.DATE_TIME_FORMAT))}}var tt=(()=>{let a=class a{constructor(t,r,s){this.injector=t,this.dialog=r,this.spaceManagementService=s,this.showFilter=!1,this.expandedReservationId=new Z(null),this.selectedFilter=new Z(null),this.ReservationStatus=O,this.DATE_TIME_FORMAT=A.DATE_TIME_FORMAT,this.reservationNavigationRef=this.injector.get(L,null),this.reservationNavigationRef?.header.next("History")}ngOnInit(){this.reservedTables$=this.spaceManagementService.getReservationHistory()}updateHistory(t){this.selectedFilter.next(t),this.reservedTables$=this.spaceManagementService.getReservationHistory(t)}ngOnDestroy(){this.reservationNavigationRef&&this.reservationNavigationRef.removeActiveChildComponent()}expandedReservationIdReset(){this.expandedReservationId.next(null)}updateReservation(t){this.dialog.open(ne,{width:"17rem",data:{reservationId:t,action:W.Edit,type:C.Table}}).afterClosed().subscribe(s=>{s&&(this.reservedTables$=this.spaceManagementService.getReservationHistory(this.selectedFilter.value),this.expandedReservationIdReset())})}deleteReservation(t){this.dialog.open(ne,{width:"17rem",data:{reservationId:t,action:W.Delete,type:C.Table}}).afterClosed().subscribe(s=>{s&&(this.reservedTables$=this.spaceManagementService.getReservationHistory(this.selectedFilter.value),this.expandedReservationIdReset())})}approveReservation(t){this.dialog.open(F,{width:"17rem",data:{type:C.Table,reservationId:t.id,status:O.Approved,reservationDate:t.reservationDate,numberOfGuests:t.numberOfGuests}}).afterClosed().subscribe(s=>{s&&(this.reservedTables$=this.spaceManagementService.getReservationHistory(this.selectedFilter.value),this.expandedReservationIdReset())})}declineReservation(t){this.dialog.open(F,{width:"17rem",data:{type:C.Table,reservationId:t.id,status:O.Declined,reservationDate:t.reservationDate,numberOfGuests:t.numberOfGuests}}).afterClosed().subscribe(s=>{s&&(this.reservedTables$=this.spaceManagementService.getReservationHistory(this.selectedFilter.value),this.expandedReservationIdReset())})}};a.\u0275fac=function(r){return new(r||a)(f(z),f(X),f(k))},a.\u0275cmp=E({type:a,selectors:[["app-space-table-reservation-history"]],decls:3,vars:3,consts:[[3,"expandedReservationIdReset","updateHistory"],[3,"updateReservationHistoryById","deleteReservationHistoryById","approveReservationHistory","declineReservationHistory","historyList","expandedReservationId","selectedFilter"],[1,"wrapper_info"],[1,"wrapper_title"],[1,"wrapper_description"],[1,"blue"]],template:function(r,s){r&1&&(n(0,"app-reservation-history-filters",0),g("expandedReservationIdReset",function(){return s.expandedReservationIdReset()})("updateHistory",function(u){return s.updateHistory(u)}),o(),n(1,"app-reservation-history-actions",1),g("updateReservationHistoryById",function(u){return s.updateReservation(u)})("deleteReservationHistoryById",function(u){return s.deleteReservation(u)})("approveReservationHistory",function(u){return s.approveReservation(u)})("declineReservationHistory",function(u){return s.declineReservation(u)}),v(2,Kt,18,11,"ng-template"),o()),r&2&&(l(),p("historyList",s.reservedTables$)("expandedReservationId",s.expandedReservationId)("selectedFilter",s.selectedFilter.value))},dependencies:[Oe,we,G],styles:[".wrapper_info[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;justify-content:space-between}.wrapper_info[_ngcontent-%COMP%]   .wrapper_title[_ngcontent-%COMP%]{padding-left:1rem;font-size:large;padding-top:.2rem;align-self:baseline}.wrapper_info[_ngcontent-%COMP%]   .wrapper_title[_ngcontent-%COMP%]   .blue[_ngcontent-%COMP%]{color:#75a0ff}.wrapper_info[_ngcontent-%COMP%]   .wrapper_title[_ngcontent-%COMP%]   .wrapper_description[_ngcontent-%COMP%]{padding-top:.25rem;width:100%;font-size:1rem;color:#9b9b9b}"]});let e=a;return e})();function en(e,a){e&1&&(n(0,"div",3),_(1,"img",4),n(2,"p",5),c(3,"No reservations"),o(),n(4,"p",6),c(5,"Your book with active reservations is empty"),o()())}function tn(e,a){if(e&1&&(n(0,"span",15),c(1),M(2,"date"),o()),e&2){let i=m().$implicit,t=m(3);l(),y(T(2,1,i.tableReservationTime,t.DATE_TIME_FORMAT))}}function nn(e,a){e&1&&(n(0,"span"),c(1,"None"),o())}function rn(e,a){e&1&&(S(0),n(1,"button",17),h(),n(2,"svg",18),_(3,"path",19),o(),R(),n(4,"span",20),c(5,"Approved"),o()(),P())}function an(e,a){e&1&&(S(0),n(1,"button",17),h(),n(2,"svg",21),_(3,"path",22),o(),R(),n(4,"span",20),c(5,"Declined"),o()(),P())}function on(e,a){e&1&&(h(),n(0,"svg",27),_(1,"path",28),o())}function sn(e,a){e&1&&(h(),n(0,"svg",27),_(1,"path",29),o())}function cn(e,a){if(e&1){let i=I();S(0),n(1,"div",23),g("click",function(){b(i);let r=m().$implicit,s=m(3);return x(s.toggleItem(r.id))}),v(2,on,2,0,"svg",24)(3,sn,2,0,"svg",24),o(),n(4,"div",25)(5,"button",26),g("click",function(){let r;b(i);let s=m().$implicit,d=m(3);return x(d.approveReservation(s.reservationDate,s.numberOfGuests,s.gameName,(r=s.tableReservationTime)!==null&&r!==void 0?r:null))}),h(),n(6,"svg",18),_(7,"path",19),o(),R(),n(8,"span",20),c(9,"Approve"),o()(),n(10,"button",26),g("click",function(){let r;b(i);let s=m().$implicit,d=m(3);return x(d.declineReservation(s.reservationDate,s.numberOfGuests,s.gameName,(r=s.tableReservationTime)!==null&&r!==void 0?r:null))}),h(),n(11,"svg",21),_(12,"path",22),o(),R(),n(13,"span",20),c(14,"Decline"),o()()(),P()}if(e&2){let i=m().$implicit,t=m(3);l(2),p("ngIf",i.id!==t.expandedReservationId),l(),p("ngIf",i.id===t.expandedReservationId)}}function ln(e,a){if(e&1&&(n(0,"div",8)(1,"div",9)(2,"div",10),_(3,"img",11),M(4,"entityImage"),M(5,"async"),o(),n(6,"div",12)(7,"div",13),c(8),n(9,"div",14)(10,"p"),c(11," Game reservation: "),n(12,"span",15),c(13),M(14,"date"),o()(),n(15,"p"),c(16),o(),n(17,"p"),c(18),o(),n(19,"p"),c(20," Table reservation: "),v(21,tn,3,4,"span",16)(22,nn,2,0,"span",1),o()()()(),v(23,rn,6,0,"ng-container",1)(24,an,6,0,"ng-container",1)(25,cn,15,2,"ng-container",1),o()()),e&2){let i=a.$implicit,t=m(3);N("expanded",t.isExpanded(i.id)),l(3),p("src",$(5,15,T(4,12,t.ImageEntityType.Games,i.gameImageId)),Te),l(5),w(" ",i.gameName," "),l(5),y(T(14,17,i.reservationDate,t.DATE_TIME_FORMAT)),l(3),w("From: ",i.username,""),l(2),w("Phone Number: ",i.phoneNumber,""),l(3),p("ngIf",i.userHaveActiveTableReservation),l(),p("ngIf",!i.userHaveActiveTableReservation),l(),p("ngIf",i.status===t.ReservationStatus.Approved),l(),p("ngIf",i.status===t.ReservationStatus.Declined),l(),p("ngIf",i.status===t.ReservationStatus.Pending)}}function pn(e,a){if(e&1&&(S(0),v(1,ln,26,20,"div",7),P()),e&2){let i=m().ngIf;l(),p("ngForOf",i)}}function mn(e,a){if(e&1&&(S(0),v(1,en,6,0,"div",2)(2,pn,2,1,"ng-container",1),P()),e&2){let i=a.ngIf;l(),p("ngIf",i.length===0),l(),p("ngIf",i.length!==0)}}var nt=(()=>{let a=class a{constructor(t,r,s,d){this.injector=t,this.gameService=r,this.router=s,this.dialog=d,this.showFilter=!1,this.expandedReservationId=null,this.ImageEntityType=Ve,this.ReservationStatus=O,this.DATE_TIME_FORMAT=A.DATE_TIME_FORMAT,this.reservationNavigationRef=this.injector.get(L,null),this.reservationNavigationRef&&this.reservationNavigationRef.header.next("Reservations"),this.activeReservations$=this.gameService.getActiveReservations()}toggleItem(t){this.expandedReservationId=this.expandedReservationId===t?null:t}isExpanded(t){return this.expandedReservationId===t}ngOnInit(){this.reservedGames$=this.gameService.getReservations()}ngOnDestroy(){this.reservationNavigationRef&&this.reservationNavigationRef.removeActiveChildComponent()}onHistory(){this.router.navigateByUrl("reservations/games/history")}approveReservation(t,r,s,d){this.expandedReservationId&&(console.log(this.expandedReservationId),this.dialog.open(F,{width:"17rem",data:{type:C.Game,reservationId:this.expandedReservationId,status:O.Approved,reservationDate:t,numberOfGuests:r,gameName:s,tableReservationDate:d}}).afterClosed().subscribe(V=>{V&&(this.activeReservations$=this.gameService.getActiveReservations(),this.expandedReservationId=null)}))}declineReservation(t,r,s,d){this.expandedReservationId&&this.dialog.open(F,{width:"17rem",data:{type:C.Game,reservationId:this.expandedReservationId,status:O.Declined,reservationDate:t,numberOfGuests:r,gameName:s,tableReservationDate:d}}).afterClosed().subscribe(V=>{V&&(this.activeReservations$=this.gameService.getActiveReservations(),this.expandedReservationId=null)})}};a.\u0275fac=function(r){return new(r||a)(f(z),f(B),f(te),f(X))},a.\u0275cmp=E({type:a,selectors:[["app-game-reservations"]],decls:3,vars:3,consts:[[1,"wrapper_library"],[4,"ngIf"],["class","no_records",4,"ngIf"],[1,"no_records"],["src","/shared/assets/images/no-reservations.png","alt",""],[1,"first-header"],[1,"second-header"],["class","wrapper_library__item",3,"expanded",4,"ngFor","ngForOf"],[1,"wrapper_library__item"],[1,"content"],[1,"wrapper_image"],["alt","Game Image",3,"src"],[1,"wrapper_info"],[1,"wrapper_title"],[1,"wrapper_description"],[1,"blue"],["class","blue",4,"ngIf"],["type","button",1,"btnWithIcon"],["viewBox","0 -960 960 960",1,"accept"],["d","m422.46-303.69 277.85-277.85L654-627.85 422.46-396.31l-116-116L260.15-466l162.31 162.31ZM480.13-88q-81.31 0-152.89-30.86-71.57-30.86-124.52-83.76-52.95-52.9-83.83-124.42Q88-398.55 88-479.87q0-81.56 30.92-153.37 30.92-71.8 83.92-124.91 53-53.12 124.42-83.48Q398.67-872 479.87-872q81.55 0 153.35 30.34 71.79 30.34 124.92 83.42 53.13 53.08 83.49 124.84Q872-561.64 872-480.05q0 81.59-30.34 152.83-30.34 71.23-83.41 124.28-53.07 53.05-124.81 84Q561.7-88 480.13-88Z"],[1,"header"],["viewBox","0 -960 960 960",1,"decline"],["d","m334-287.69 146-146 146 146L672.31-334l-146-146 146-146L626-672.31l-146 146-146-146L287.69-626l146 146-146 146L334-287.69ZM480.13-88q-81.31 0-152.89-30.86-71.57-30.86-124.52-83.76-52.95-52.9-83.83-124.42Q88-398.55 88-479.87q0-81.56 30.92-153.37 30.92-71.8 83.92-124.91 53-53.12 124.42-83.48Q398.67-872 479.87-872q81.55 0 153.35 30.34 71.79 30.34 124.92 83.42 53.13 53.08 83.49 124.84Q872-561.64 872-480.05q0 81.59-30.34 152.83-30.34 71.23-83.41 124.28-53.07 53.05-124.81 84Q561.7-88 480.13-88Z"],[1,"circle-btn",3,"click"],["class","menu","viewBox","0 -960 960 960",4,"ngIf"],[1,"expanded-buttons"],["type","button",1,"btnWithIcon",3,"click"],["viewBox","0 -960 960 960",1,"menu"],["d","M480-330.46 525.54-376l-71-71H633v-66H454.54l71-71L480-629.54 330.46-480 480-330.46ZM480.13-88q-81.31 0-152.89-30.86-71.57-30.86-124.52-83.76-52.95-52.9-83.83-124.42Q88-398.55 88-479.87q0-81.56 30.92-153.37 30.92-71.8 83.92-124.91 53-53.12 124.42-83.48Q398.67-872 479.87-872q81.55 0 153.35 30.34 71.79 30.34 124.92 83.42 53.13 53.08 83.49 124.84Q872-561.64 872-480.05q0 81.59-30.34 152.83-30.34 71.23-83.41 124.28-53.07 53.05-124.81 84Q561.7-88 480.13-88Z"],["d","M480-330.46 629.54-480 480-629.54 434.46-584l71 71H327v66h178.46l-71 71L480-330.46ZM480.13-88q-81.31 0-152.89-30.86-71.57-30.86-124.52-83.76-52.95-52.9-83.83-124.42Q88-398.55 88-479.87q0-81.56 30.92-153.37 30.92-71.8 83.92-124.91 53-53.12 124.42-83.48Q398.67-872 479.87-872q81.55 0 153.35 30.34 71.79 30.34 124.92 83.42 53.13 53.08 83.49 124.84Q872-561.64 872-480.05q0 81.59-30.34 152.83-30.34 71.23-83.41 124.28-53.07 53.05-124.81 84Q561.7-88 480.13-88Z"]],template:function(r,s){r&1&&(n(0,"section",0),v(1,mn,3,2,"ng-container",1),M(2,"async"),o()),r&2&&(l(),p("ngIf",$(2,1,s.activeReservations$)))},dependencies:[K,q,Y,G,ke],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:85%;margin:0 auto}.container[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.container[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin:.75rem 0}.container[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]   .wrapper_add[_ngcontent-%COMP%]{background:#bf3c65;display:flex;align-items:center;justify-content:center;width:1.5rem;height:1.5rem;border-radius:50%;margin:0 .2rem}.container[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]   .wrapper_filter[_ngcontent-%COMP%]{background:#75a0ff;display:flex;align-items:center;justify-content:center;width:1.5rem;height:1.5rem;border-radius:50%;margin:0 .2rem}.container[_ngcontent-%COMP%]   .reward-container[_ngcontent-%COMP%]{border:.2rem dashed #31313b;border-radius:1rem;padding:.7rem 1rem 0rem}.container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.wrapper_library[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:85%;padding-bottom:7rem;margin:0 auto;padding-top:1.5rem;overflow-y:visible}.wrapper_library[_ngcontent-%COMP%]   .no_records[_ngcontent-%COMP%]{text-align:center;margin:2rem;font-size:1.5rem;display:flex;flex-direction:column;align-items:center}.wrapper_library[_ngcontent-%COMP%]   .no_records[_ngcontent-%COMP%]   .first-header[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.2rem}.wrapper_library[_ngcontent-%COMP%]   .no_records[_ngcontent-%COMP%]   .second-header[_ngcontent-%COMP%]{font-size:1.2rem;color:#9b9b9b}.wrapper_library[_ngcontent-%COMP%]   .no_records[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15rem;width:15rem}.wrapper_library__item.expanded[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{transform:translate(-150px)}.wrapper_library__item.expanded[_ngcontent-%COMP%]   .expanded-buttons[_ngcontent-%COMP%]{display:flex}.wrapper_library__item[_ngcontent-%COMP%]{position:relative;display:flex;padding-bottom:.3rem;padding-top:.5rem;border-bottom:.2rem solid #2b2e35;transition:transform .3s ease-in-out;overflow:hidden}.wrapper_library__item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;transform:translate(0);transition:transform .3s ease-in-out}.wrapper_library__item[_ngcontent-%COMP%]   .circle-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;margin:0}.wrapper_library__item[_ngcontent-%COMP%]   .circle-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin:.25rem}.wrapper_library__item[_ngcontent-%COMP%]   .circle-btn[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{fill:#75a0ff;width:2.5rem;height:2.5rem}.wrapper_library__item[_ngcontent-%COMP%]   .btnWithIcon[_ngcontent-%COMP%]{cursor:pointer;padding:1rem;border:none;background:transparent;color:#fff;border-radius:.25rem}.wrapper_library__item[_ngcontent-%COMP%]   .btnWithIcon[_ngcontent-%COMP%]   .accept[_ngcontent-%COMP%]{fill:#46945b;width:3rem;height:3rem}.wrapper_library__item[_ngcontent-%COMP%]   .btnWithIcon[_ngcontent-%COMP%]   .decline[_ngcontent-%COMP%]{fill:#bf3c65;width:3rem;height:3rem}.wrapper_library__item[_ngcontent-%COMP%]   .expanded-buttons[_ngcontent-%COMP%]{display:none;position:absolute;left:100%}.wrapper_library__item[_ngcontent-%COMP%]   .wrapper_info[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;justify-content:space-between}.wrapper_library__item[_ngcontent-%COMP%]   .wrapper_info[_ngcontent-%COMP%]   .wrapper_title[_ngcontent-%COMP%]{padding-left:1rem;font-size:large;padding-top:.2rem;align-self:baseline}.wrapper_library__item[_ngcontent-%COMP%]   .wrapper_info[_ngcontent-%COMP%]   .wrapper_title[_ngcontent-%COMP%]   .blue[_ngcontent-%COMP%]{color:#75a0ff}.wrapper_library__item[_ngcontent-%COMP%]   .wrapper_info[_ngcontent-%COMP%]   .wrapper_title[_ngcontent-%COMP%]   .wrapper_description[_ngcontent-%COMP%]{padding-top:.25rem;width:100%;font-size:1rem;color:#9b9b9b}.wrapper_library__item[_ngcontent-%COMP%]   .wrapper_info[_ngcontent-%COMP%]   .wrapper_title[_ngcontent-%COMP%]   .wrapper_description[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#46945b}.wrapper_library__item[_ngcontent-%COMP%]   .wrapper_info[_ngcontent-%COMP%]   .wrapper_title[_ngcontent-%COMP%]   .wrapper_description[_ngcontent-%COMP%]   .unsuccess[_ngcontent-%COMP%]{color:#bf3c65}.wrapper_library__item[_ngcontent-%COMP%]   .wrapper_image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem;height:5rem;min-width:5rem;min-height:5rem;object-fit:cover;border-radius:20px;border:.1rem solid black}"]});let e=a;return e})();function dn(e,a){if(e&1&&(n(0,"div",2)(1,"div",3)(2,"div",4)(3,"p"),c(4),M(5,"date"),o()(),c(6," Game "),n(7,"strong",5),c(8),o(),c(9," was booked from "),n(10,"span",5),c(11),o(),n(12,"p")(13,"span",5),c(14),o(),c(15),o(),n(16,"div",4)(17,"p"),c(18," Reservation Date: "),n(19,"strong",5),c(20),M(21,"date"),o()()()()()),e&2){let i=a.$implicit,t=m();l(4),w(" Created At: ",T(5,6,i.createdDate,t.DATE_TIME_FORMAT)," "),l(4),w(" ",i.gameName," "),l(3),y(i.username),l(3),y(i.numberOfGuests),l(),w(" ",i.numberOfGuests===1?"person":"people"," "),l(5),y(T(21,9,i.reservationDate,t.DATE_TIME_FORMAT))}}var it=(()=>{let a=class a{constructor(t,r,s){this.injector=t,this.dialog=r,this.gameService=s,this.showFilter=!1,this.expandedReservationId=new Z(null),this.selectedFilter=new Z(null),this.ReservationType=C,this.ReservationStatus=O,this.DATE_TIME_FORMAT=A.DATE_TIME_FORMAT,this.reservationNavigationRef=this.injector.get(L,null),this.reservationNavigationRef?.header.next("History")}updateHistory(t){this.selectedFilter.next(t),this.reservedGames$=this.gameService.getReservationHistory(t)}expandedReservationIdReset(){this.expandedReservationId.next(null)}ngOnInit(){this.reservedGames$=this.gameService.getReservationHistory()}ngOnDestroy(){this.reservationNavigationRef&&this.reservationNavigationRef.removeActiveChildComponent()}updateReservation(t){this.dialog.open(ne,{width:"17rem",data:{reservationId:t,action:W.Edit,type:C.Game}}).afterClosed().subscribe(s=>{s&&(this.reservedGames$=this.gameService.getReservationHistory(this.selectedFilter.value),this.expandedReservationIdReset())})}deleteReservation(t){this.dialog.open(ne,{width:"17rem",data:{reservationId:t,action:W.Delete,type:C.Game}}).afterClosed().subscribe(s=>{s&&(this.reservedGames$=this.gameService.getReservationHistory(this.selectedFilter.value),this.expandedReservationIdReset())})}approveReservation(t){this.dialog.open(F,{width:"17rem",data:{type:C.Game,reservationId:t.id,status:O.Approved,reservationDate:t.reservationDate,numberOfGuests:t.numberOfGuests,gameName:t.gameName,tableReservationDate:t.tableReservationTime}}).afterClosed().subscribe(s=>{s&&(console.log(s),this.reservedGames$=this.gameService.getReservationHistory(this.selectedFilter.value),this.expandedReservationIdReset())})}declineReservation(t){this.dialog.open(F,{width:"17rem",data:{type:C.Game,reservationId:t.id,status:O.Declined,reservationDate:t.reservationDate,numberOfGuests:t.numberOfGuests,gameName:t.gameName,tableReservationDate:t.tableReservationTime}}).afterClosed().subscribe(s=>{s&&(this.reservedGames$=this.gameService.getReservationHistory(this.selectedFilter.value),this.expandedReservationIdReset())})}};a.\u0275fac=function(r){return new(r||a)(f(z),f(X),f(B))},a.\u0275cmp=E({type:a,selectors:[["app-game-reservation-history"]],decls:3,vars:3,consts:[[3,"expandedReservationIdReset","updateHistory"],[3,"updateReservationHistoryById","deleteReservationHistoryById","approveReservationHistory","declineReservationHistory","historyList","expandedReservationId","selectedFilter"],[1,"wrapper_info"],[1,"wrapper_title"],[1,"wrapper_description"],[1,"blue"]],template:function(r,s){r&1&&(n(0,"app-reservation-history-filters",0),g("expandedReservationIdReset",function(){return s.expandedReservationIdReset()})("updateHistory",function(u){return s.updateHistory(u)}),o(),n(1,"app-reservation-history-actions",1),g("updateReservationHistoryById",function(u){return s.updateReservation(u)})("deleteReservationHistoryById",function(u){return s.deleteReservation(u)})("approveReservationHistory",function(u){return s.approveReservation(u)})("declineReservationHistory",function(u){return s.declineReservation(u)}),v(2,dn,22,12,"ng-template"),o()),r&2&&(l(),p("historyList",s.reservedGames$)("expandedReservationId",s.expandedReservationId)("selectedFilter",s.selectedFilter.value))},dependencies:[Oe,we,G],styles:[".blue[_ngcontent-%COMP%]{color:#75a0ff}.wrapper_info[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;justify-content:space-between}.wrapper_info[_ngcontent-%COMP%]   .wrapper_title[_ngcontent-%COMP%]{padding-left:1rem;font-size:large;padding-top:.2rem;align-self:baseline}.wrapper_info[_ngcontent-%COMP%]   .wrapper_title[_ngcontent-%COMP%]   .wrapper_description[_ngcontent-%COMP%]{padding-top:.25rem;width:100%;font-size:1rem;color:#9b9b9b}"]});let e=a;return e})();var _n=[{path:"",component:L,children:[{path:"games",component:nt},{path:"games/history",component:it},{path:"tables",component:Je},{path:"tables/history",component:tt}]}],rt=(()=>{let a=class a{};a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=oe({type:a}),a.\u0275inj=ae({imports:[Se.forChild(_n),Se]});let e=a;return e})();var pr=(()=>{let a=class a{};a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=oe({type:a}),a.\u0275inj=ae({imports:[Be,We,rt,Ue,Ye]});let e=a;return e})();export{pr as ReservationManagementModule};
