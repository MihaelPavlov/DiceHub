<div class="wrapper_icons">
  <span (click)="backNavigateBtn()" class="arrow left"></span>
  <span class="header_name">Space Settings</span>
  <div class="info-container">
    <svg (click)="controls.toggleMenu()" class="info" viewBox="0 -960 960 960">
      <path
        d="M448-284h66v-236h-66v236Zm31.82-308.92q14.64 0 24.72-9.9 10.08-9.91 10.08-24.54 0-14.64-9.91-24.72-9.9-10.07-24.53-10.07-14.64 0-24.72 9.9-10.08 9.9-10.08 24.54 0 14.63 9.91 24.71 9.9 10.08 24.53 10.08ZM480.13-88q-81.31 0-152.89-30.86-71.57-30.86-124.52-83.76-52.95-52.9-83.83-124.42Q88-398.55 88-479.87q0-81.56 30.92-153.37 30.92-71.8 83.92-124.91 53-53.12 124.42-83.48Q398.67-872 479.87-872q81.55 0 153.35 30.34 71.79 30.34 124.92 83.42 53.13 53.08 83.49 124.84Q872-561.64 872-480.05q0 81.59-30.34 152.83-30.34 71.23-83.41 124.28-53.07 53.05-124.81 84Q561.7-88 480.13-88Zm-.13-66q136.51 0 231.26-94.74Q806-343.49 806-480t-94.74-231.26Q616.51-806 480-806t-231.26 94.74Q154-616.51 154-480t94.74 231.26Q343.49-154 480-154Zm0-326Z"
      />
    </svg>
  </div>
</div>

<form [formGroup]="form" class="container">
  <div class="input-field">
    <label for="language" class="required">Language</label>
    <span class="input-info"> Application Language for you</span>

    <ng-select
      id="language"
      [items]="languagesValues"
      bindValue="name"
      bindLabel="name"
      placeholder="EN"
      [searchable]="true"
      formControlName="language"
      class="app-select-long"
    >
    </ng-select>
  </div>

  <div class="input-field">
    <label for="phoneNumber" class="required">Club Phone Number</label>
    <span class="input-info"
      >The main contact number for the club that will be shown to users.</span
    >

    <input
      placeholder="+359 ....."
      type="text"
      id="phoneNumber"
      formControlName="phoneNumber"
    />
  </div>

  <div class="input-field">
    <label for="clubName" class="required">Club Name</label>
    <span class="input-info"
      >The name of the club that will be displayed to users.</span
    >
    <input
      placeholder="Write your club name"
      type="text"
      id="clubName"
      formControlName="clubName"
    />
  </div>
  <div class="input-field">
    <label for="averageMaxCapacity" class="required"
      >Average Max Capacity</label
    >
    <span class="input-info"
      >Represents the average number of people the club can accommodate at one
      time.</span
    >
    <input
      placeholder="0"
      type="number"
      id="averageMaxCapacity"
      formControlName="averageMaxCapacity"
    />
  </div>

  <div class="input-field">
    <label for="challengeRewardsCountForPeriod" class="required"
      >Challenge Rewards Count For Period</label
    >
    <span class="input-info"
      >Defines how many rewards a user can earn during a single reset
      period.</span
    >

    <input
      placeholder="0"
      type="number"
      id="challengeRewardsCountForPeriod"
      formControlName="challengeRewardsCountForPeriod"
    />
  </div>

  <div class="input-field">
    <label for="challengeInitiationDelayHours" class="required"
      >Challenge Initiation Delay Hours</label
    >
    <span class="input-info"
      >Number of hours to wait before a new challenge becomes active after being
      triggered.</span
    >

    <ng-select
      id="challengeInitiationDelayHours"
      [items]="delayHours"
      bindValue="name"
      bindLabel="name"
      placeholder="0"
      [searchable]="true"
      formControlName="challengeInitiationDelayHours"
      class="app-select-long"
    >
    </ng-select>
  </div>

  <div class="input-field">
    <label for="resetDayForRewards" class="required"
      >Reset Day For Rewards</label
    >
    <span class="input-info"
      >Day of the week when rewards reset at 12:00 PM (e.g., every Monday at
      noon).</span
    >

    <ng-select
      id="resetDayForRewards"
      [items]="weekDaysValues"
      bindValue="name"
      bindLabel="name"
      placeholder="0"
      [searchable]="true"
      formControlName="resetDayForRewards"
      class="app-select-long"
    >
    </ng-select>
  </div>

  <div class="input-field">
    <label for="resetDayForRewards" class="required">Reservation Hours</label>
    <span class="input-info"
      >Set the available time slots for reservations based on the club’s
      operating hours. Multiple time slots can be selected.</span
    >

    <ng-select
      id="reservationHours"
      [items]="reservationHours"
      bindValue="name"
      bindLabel="name"
      placeholder="Select your hours"
      [multiple]="true"
      [closeOnSelect]="false"
      [searchable]="true"
      formControlName="reservationHours"
      class="app-select-long"
    >
    </ng-select>
  </div>

  <div class="input-field">
    <label for="bonusTimeAfterReservationExpiration" class="required"
      >Bonus Time After Reservation Expiration</label
    >
    <span class="input-info"
      >Extra grace time (in minutes) after a reservation ends before it is
      considered expired.</span
    >

    <input
      placeholder="15 minutes"
      type="number"
      id="bonusTimeAfterReservationExpiration"
      formControlName="bonusTimeAfterReservationExpiration"
    />
  </div>

  <div class="input-field">
    <label for="periodOfRewardReset" class="required"
      >Period Of Reward Reset</label
    >
    <span class="input-info"
      >How often the reward count resets for users — weekly or monthly.</span
    >
    <ng-select
      id="periodOfRewardReset"
      [items]="periodTimeValues"
      bindValue="name"
      bindLabel="name"
      placeholder="Weekly or Monthly"
      [searchable]="true"
      formControlName="periodOfRewardReset"
      class="app-select-long"
    >
    </ng-select>
  </div>

  <div class="input-field">
    <label for="isCustomPeriodOn" class="required">Is Custom Period On</label>
    <span class="input-info input-warning">
      ⚠️ Enabling this setting forces the system into custom period mode.<br />
      If no challenges or rewards are configured under the
      <strong>Custom Period</strong> tab in Challenge Manager,<br />
      you will be immediately redirected there and
      <strong>cannot leave</strong> until the required setup is complete.</span
    >
    <ng-select
      id="isCustomPeriodOn"
      [items]="toggleStateValues"
      bindValue="id"
      bindLabel="name"
      placeholder="On or Off"
      [searchable]="true"
      formControlName="isCustomPeriodOn"
      class="app-select-long"
    >
    </ng-select>
  </div>

  <div *ngIf="getFirstErrorMessage()" class="errors">
    {{ getFirstErrorMessage() }}
  </div>

  <button
    [disabled]="this.form.invalid"
    type="button"
    (click)="onSave()"
    class="btn btn-gray"
    [ngClass]="{
      'btn-border-green': this.form.valid,
      'btn-font-green': this.form.valid,
      'btn-border-red': this.form.invalid,
      'btn-font-red': this.form.invalid
    }"
  >
    Save
  </button>
</form>

<app-controls-menu
  #controls
  [isInfo]="true"
  infoDescription="Configure key settings for your club’s operations, challenges, and
  reservations. \r\n \r\n Adjust values to fit your club’s needs and ensure a smooth
  experience for all users."
></app-controls-menu>
