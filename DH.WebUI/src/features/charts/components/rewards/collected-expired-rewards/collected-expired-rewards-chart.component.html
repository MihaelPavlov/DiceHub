<div class="wrapper_icons">
  <span (click)="backNavigateBtn()" class="arrow left"></span>
  <span class="header_name">Collected/Expired Rewards Chart</span>
  <div class="info-container">
    <svg class="info bump" (click)="controls.toggleMenu()" viewBox="0 -960 960 960">
      <path
        d="M448-284h66v-236h-66v236Zm31.82-308.92q14.64 0 24.72-9.9 10.08-9.91 10.08-24.54 0-14.64-9.91-24.72-9.9-10.07-24.53-10.07-14.64 0-24.72 9.9-10.08 9.9-10.08 24.54 0 14.63 9.91 24.71 9.9 10.08 24.53 10.08ZM480.13-88q-81.31 0-152.89-30.86-71.57-30.86-124.52-83.76-52.95-52.9-83.83-124.42Q88-398.55 88-479.87q0-81.56 30.92-153.37 30.92-71.8 83.92-124.91 53-53.12 124.42-83.48Q398.67-872 479.87-872q81.55 0 153.35 30.34 71.79 30.34 124.92 83.42 53.13 53.08 83.49 124.84Q872-561.64 872-480.05q0 81.59-30.34 152.83-30.34 71.23-83.41 124.28-53.07 53.05-124.81 84Q561.7-88 480.13-88Z"
      />
    </svg>
  </div>
</div>
<div class="wrapper">
  <div class="date_stepper">
    <svg
      class="arrow left"
      (click)="updateDateRange('backward')"
      viewBox="0 -960 960 960"
    >
      <path
        d="M332-234.31v-491.38L720.15-480 332-234.31ZM398-480Zm0 124 197.54-124L398-604v248Z"
      />
    </svg>

    <span class="date blue">{{ getFormattedRange() }}</span>

    <svg
      class="arrow"
      (click)="updateDateRange('forward')"
      viewBox="0 -960 960 960"
    >
      <path
        d="M332-234.31v-491.38L720.15-480 332-234.31ZM398-480Zm0 124 197.54-124L398-604v248Z"
      />
    </svg>
  </div>
  <div style="margin-bottom: 1rem">
    <label class="month_filter" for="monthFilter">Filter by Month</label>
    <ng-select
      [items]="allMonths"
      id="monthFilter"
      bindLabel=""
      bindValue=""
      placeholder="Filter by Month"
      class="app-select-long surface-elevated"
      [multiple]="true"
      [closeOnSelect]="false"
      [(ngModel)]="this.selectedMonths"
      (change)="updateChartByMonth()"
    >
      <ng-option [value]="null">All Months</ng-option>
    </ng-select>
  </div>
  <div class="container" style="width: 100%; height: 35rem">
    <canvas #rewardsChartCanvas></canvas>
  </div>
</div>

<app-controls-menu
  #controls
  [isInfo]="true"
  infoDescription="This chart displays the total collected and expired rewards for each month.
  It provides an overview for the entire year,
  with the ability to
  switch between different years using the navigation arrows."
></app-controls-menu>
