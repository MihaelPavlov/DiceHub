<div class="wrapper_icons">
  <span (click)="backNavigateBtn()" class="arrow left"></span>
  <span class="header_name">{{
    this.editRoomId ? "Update Game Camp" : "Create Game Camp"
  }}</span>
  <div class="info-container">
    <svg class="info" (click)="showMenu()" viewBox="0 -960 960 960">
      <path
        d="M448-284h66v-236h-66v236Zm31.82-308.92q14.64 0 24.72-9.9 10.08-9.91 10.08-24.54 0-14.64-9.91-24.72-9.9-10.07-24.53-10.07-14.64 0-24.72 9.9-10.08 9.9-10.08 24.54 0 14.63 9.91 24.71 9.9 10.08 24.53 10.08ZM480.13-88q-81.31 0-152.89-30.86-71.57-30.86-124.52-83.76-52.95-52.9-83.83-124.42Q88-398.55 88-479.87q0-81.56 30.92-153.37 30.92-71.8 83.92-124.91 53-53.12 124.42-83.48Q398.67-872 479.87-872q81.55 0 153.35 30.34 71.79 30.34 124.92 83.42 53.13 53.08 83.49 124.84Q872-561.64 872-480.05q0 81.59-30.34 152.83-30.34 71.23-83.41 124.28-53.07 53.05-124.81 84Q561.7-88 480.13-88Z"
      />
    </svg>
    <div class="info__text" *ngIf="isMenuVisible">
      <p>The room will be available until the selected date.</p>
    </div>
  </div>
</div>
<div class="select-container">
  <ng-select
    [items]="this.gameList"
    bindLabel="name"
    placeholder="Select Game"
    [(ngModel)]="this.selectedGame"
    (change)="handleSelectGame()"
    class="app-select"
  >
  </ng-select>
</div>

<form [formGroup]="this.form">
  <div class="wrapper_stats">
    <div class="wrapper_stats__chips-left">
      <div class="chip">
        <span
          >{{ getGame("averagePlaytime") }} {{ this.game ? "m" : "" }}
        </span>
        <!-- schedule icon -->
        <svg height="24px" viewBox="0 -960 960 960" width="24px" fill="#fafafa">
          <path
            d="m619.85-293.85 46.3-46.3L514-494.33V-684h-66v218.31l171.85 171.84ZM480.13-88q-81.31 0-152.89-30.86-71.57-30.86-124.52-83.76-52.95-52.9-83.83-124.42Q88-398.55 88-479.87q0-81.56 30.92-153.37 30.92-71.8 83.92-124.91 53-53.12 124.42-83.48Q398.67-872 479.87-872q81.55 0 153.35 30.34 71.79 30.34 124.92 83.42 53.13 53.08 83.49 124.84Q872-561.64 872-480.05q0 81.59-30.34 152.83-30.34 71.23-83.41 124.28-53.07 53.05-124.81 84Q561.7-88 480.13-88ZM480-480Zm0 326q136 0 231-95t95-231q0-136-95-231t-231-95q-136 0-231 95t-95 231q0 136 95 231t231 95Z"
          />
        </svg>
      </div>
      <div class="chip">
        <span
          >{{ getGame("minPlayers") }} {{ this.game ? "-" : "" }}
          {{ getGame("maxPlayers") }}</span
        >
        <!-- group icon -->
        <svg height="24px" viewBox="0 -960 960 960" width="24px" fill="#fafafa">
          <path
            d="M44.85-154.38v-96.85q0-34.85 16.61-59.24t44.57-38.67q56.05-27.78 113.62-44.01 57.58-16.23 136.2-16.23 78.27 0 135.52 16.23 57.25 16.23 113.29 44.01 27.97 14.28 44.58 38.67t16.61 59.24v96.85h-621Zm706 0v-102.7q0-32.77-12.58-73.14-12.57-40.37-42.42-68.47 41.46 6 79.27 18.65 37.8 12.66 72.5 30.96 31.83 16.85 49.68 41.86 17.85 25.01 17.85 50.14v102.7h-164.3Zm-396-357.24q-61.05 0-104.53-43.47-43.47-43.48-43.47-104.53 0-61.05 43.47-104.52 43.48-43.48 104.53-43.48 61.05 0 104.52 43.48 43.48 43.47 43.48 104.52t-43.48 104.53q-43.47 43.47-104.52 43.47Zm375.77-148q0 61.05-43.48 104.53-43.47 43.47-104.52 43.47-6.54 0-19.47-1.57-12.92-1.58-19.46-4.27 22.33-30.9 33.24-67.09 10.92-36.19 10.92-75.16t-11.43-74.59q-11.42-35.62-32.73-67.47 9.23-3.15 19.46-4.5t19.47-1.35q61.05 0 104.52 43.48 43.48 43.47 43.48 104.52ZM110.85-220.38h489v-30.85q0-14.08-5.04-22.62-5.04-8.53-20.27-16.15-45.77-23.92-100.39-38.65-54.61-14.73-118.8-14.73-64.2 0-118.81 14.73-54.62 14.73-100.39 38.65-15.23 7.62-20.27 16.15-5.03 8.54-5.03 22.62v30.85Zm244.12-357.24q33.88 0 57.88-24.12t24-58q0-33.88-24.13-57.88-24.12-24-58-24-33.87 0-57.87 24.13-24 24.12-24 58 0 33.87 24.12 57.87t58 24Zm.88 357.24Zm-1-439.24Z"
          />
        </svg>
      </div>
    </div>

    <div class="wrapper_image">
      <img
        [ngClass]="this.imagePreview ? 'green' : 'red'"
        [src]="
          this.imagePreview || '/shared/assets/images/default-no-image.jpg'
        "
      />
    </div>

    <div class="wrapper_stats__chips-right">
      <div class="chip">
        <!-- cake icon -->
        <svg height="24px" viewBox="0 -960 960 960" width="24px" fill="#fafafa">
          <path
            d="M165.23-86q-15.78 0-26.51-10.92Q128-107.83 128-122.77v-189.77q0-38.84 25.88-64.73 25.89-25.88 64.74-25.88H234v-145.16q0-38.84 25.88-64.73 25.89-25.88 64.74-25.88H446v-61.54q-19.23-13.23-29.62-29.04Q406-745.31 406-767.69q0-14.93 4.96-26.58 4.96-11.65 16.89-23.58L480-870l52.15 52.15q11.93 11.93 16.89 23.58 4.96 11.65 4.96 26.58 0 22.38-10.38 38.19-10.39 15.81-29.62 29.04v61.54h121.38q38.85 0 64.74 25.88Q726-587.15 726-548.31v145.16h15.38q38.85 0 64.74 25.88Q832-351.38 832-312.54v189.77q0 14.39-11.19 25.58Q809.62-86 795.23-86h-630ZM300-403.15h360v-145.16q0-10.77-6.92-17.69-6.93-6.92-17.7-6.92H324.62q-10.77 0-17.7 6.92-6.92 6.92-6.92 17.69v145.16ZM194-152h572v-160.54q0-10.77-6.92-17.69-6.93-6.92-17.7-6.92H218.62q-10.77 0-17.7 6.92-6.92 6.92-6.92 17.69V-152Zm106-251.15h360-360ZM194-152h572-572Zm532-251.15H234h492Z"
          />
        </svg>
        <span>{{ getGame("minAge") }} {{ this.game ? "+" : "" }} </span>
      </div>
      <div class="chip">
        <!-- verified icon -->
        <svg
          *ngIf="!this.gameInventory || this.gameInventory.availableCopies > 0"
          class="available"
          height="24px"
          viewBox="0 -960 960 960"
          width="24px"
        >
          <path
            d="m346.92-70.77-72.77-124.61-141.07-31.39 14.46-145.08L51.85-480l95.69-108.15-14.46-145.08 141.07-31.39 72.77-124.61L480-832.92l133.08-56.31 72.77 124.61 141.07 31.39-14.46 145.08L908.15-480l-95.69 108.15 14.46 145.08-141.07 31.39-72.77 124.61L480-127.08 346.92-70.77ZM376-156l104-44.46L586.46-156 644-254l112-26.46L746-394l74-86-74-86.46L756-682l-112-24-60-98-104 44.46L373.54-804 316-706l-112 24 10 115.54L140-480l74 86-10 116 112 24 60 98Zm104-324Zm-42 134.31L658.31-566 611-611.77l-173 173-87-88.54L303.69-480 438-345.69Z"
          />
        </svg>

        <!-- cancel icon -->
        <svg
          *ngIf="this.gameInventory && this.gameInventory.availableCopies === 0"
          class="unavailable"
          height="24px"
          viewBox="0 -960 960 960"
          width="24px"
        >
          <path
            d="m334-287.69 146-146 146 146L672.31-334l-146-146 146-146L626-672.31l-146 146-146-146L287.69-626l146 146-146 146L334-287.69ZM480.13-88q-81.31 0-152.89-30.86-71.57-30.86-124.52-83.76-52.95-52.9-83.83-124.42Q88-398.55 88-479.87q0-81.56 30.92-153.37 30.92-71.8 83.92-124.91 53-53.12 124.42-83.48Q398.67-872 479.87-872q81.55 0 153.35 30.34 71.79 30.34 124.92 83.42 53.13 53.08 83.49 124.84Q872-561.64 872-480.05q0 81.59-30.34 152.83-30.34 71.23-83.41 124.28-53.07 53.05-124.81 84Q561.7-88 480.13-88Zm-.13-66q136.51 0 231.26-94.74Q806-343.49 806-480t-94.74-231.26Q616.51-806 480-806t-231.26 94.74Q154-616.51 154-480t94.74 231.26Q343.49-154 480-154Zm0-326Z"
          />
        </svg>
        <span *ngIf="this.gameInventory">
          {{ this.gameInventory.availableCopies }} /
          {{ this.gameInventory.totalCopies }}
        </span>
      </div>
    </div>
  </div>

  <div class="wrapper_title">
    <span>{{ this.game?.name }}</span>
  </div>

  <div class="wrapper_inputs">
    <div class="wrapper_inputs__input">
      <label class="required" for="startDate">Choose Date</label>
      <input formControlName="startDate" type="date" name="startDate" />
    </div>
    <div class="wrapper_inputs__time">
      <label class="required" for="startTime">Choose Time</label>
      <input type="time" name="startTime" formControlName="startTime" />
    </div>
  </div>
  <br />
  <div class="wrapper_inputs">
    <div class="wrapper_inputs__input">
      <label class="required" for="name">Name</label>
      <input formControlName="name" type="text" name="name" />
    </div>
    <div class="wrapper_inputs__time">
      <label class="required" for="maxParticipants">Max people</label>
      <input
        type="number"
        name="maxParticipants"
        formControlName="maxParticipants"
      />
    </div>
  </div>

  <div class="container-errors">
    <div *ngIf="getFirstErrorMessage()" class="errors">
      {{ getFirstErrorMessage() }}
    </div>

    <div
      *ngIf="form.get('startDate')?.errors?.['cannotBeToday']"
      class="errors"
    >
      You cannot set the start date to today.<br/> Please choose a future date.
    </div>
  </div>

  <div class="btn-container">
    <div class="wrapper_btn" (click)="onSubmit()">
      <!-- local_fire_department icon -->
      <svg
        [ngClass]="this.form.valid ? 'red-flames' : 'gray-flames'"
        viewBox="0 -960 960 960"
      >
        <path
          d="M253-400q0 57.92 30.27 107.08 30.27 49.15 79.35 74-6.93-6.93-10.77-15.77Q348-243.54 348-252q2-21.54 11.81-41.62 9.81-20.07 26.65-35.92L480-421.85l95.31 92.31q15.84 15.85 25.27 35.92Q610-273.54 612-252q0 8.46-3.85 17.31-3.84 8.84-10.77 15.77 49.08-24.85 79.35-74Q707-342.08 707-400q0-44-16-84.5T646-557q-19.54 11-41.03 16.5-21.5 5.5-43.97 5.5-63.77 0-109.27-36.5-45.5-36.5-59.73-95.04-34 30.23-60 62.73t-43.5 67.27Q271-501.77 262-467.8q-9 33.96-9 67.8Zm227 70-48 47q-10 9-14.5 20.72Q413-250.56 413-238q0 26.67 19.68 45.83Q452.36-173 480-173t47.32-19.09Q547-211.17 547-237.72q0-13.28-5.03-24.63-5.02-11.34-14.23-20.59L480-330Zm-27-459.46V-708q0 45.4 31.27 76.2Q515.53-601 561-601q14.77 0 30.08-5.35 15.3-5.34 30.15-14.27l24.23-22.53q59.46 43.92 93.5 108.42T773-399.83q0 121.91-85.24 207.37Q602.52-107 480-107t-207.76-85.24Q187-277.48 187-400q0-107.85 71.08-213.65Q329.15-719.46 453-789.46Z"
        />
      </svg>
      <span> {{ this.editRoomId ? "Update the Camp" : "Fire the Camp" }} </span>

      <!-- local_fire_department icon -->
      <svg
        [ngClass]="this.form.valid ? 'red-flames' : 'gray-flames'"
        viewBox="0 -960 960 960"
      >
        <path
          d="M253-400q0 57.92 30.27 107.08 30.27 49.15 79.35 74-6.93-6.93-10.77-15.77Q348-243.54 348-252q2-21.54 11.81-41.62 9.81-20.07 26.65-35.92L480-421.85l95.31 92.31q15.84 15.85 25.27 35.92Q610-273.54 612-252q0 8.46-3.85 17.31-3.84 8.84-10.77 15.77 49.08-24.85 79.35-74Q707-342.08 707-400q0-44-16-84.5T646-557q-19.54 11-41.03 16.5-21.5 5.5-43.97 5.5-63.77 0-109.27-36.5-45.5-36.5-59.73-95.04-34 30.23-60 62.73t-43.5 67.27Q271-501.77 262-467.8q-9 33.96-9 67.8Zm227 70-48 47q-10 9-14.5 20.72Q413-250.56 413-238q0 26.67 19.68 45.83Q452.36-173 480-173t47.32-19.09Q547-211.17 547-237.72q0-13.28-5.03-24.63-5.02-11.34-14.23-20.59L480-330Zm-27-459.46V-708q0 45.4 31.27 76.2Q515.53-601 561-601q14.77 0 30.08-5.35 15.3-5.34 30.15-14.27l24.23-22.53q59.46 43.92 93.5 108.42T773-399.83q0 121.91-85.24 207.37Q602.52-107 480-107t-207.76-85.24Q187-277.48 187-400q0-107.85 71.08-213.65Q329.15-719.46 453-789.46Z"
        />
      </svg>
    </div>
  </div>
</form>
