<app-header
  [header]="'games.categories.' + headerSectionName | translate"
  [withSearch]="true"
  [withMenu]="(isAdmin$ | async) ?? false"
  [menuItems]="menuItems"
  [menuItemClickFunction]="handleMenuItemClick"
  [gameReservationStatus]="gameReservationStatus"
  (reservationWarningClicked)="handleReservationWarningClick()"
  (searchExpressionResult)="handleSearchExpression($event)"
>
  <app-nav-bar
    [columns]="[
      {
        name: 'games.navbar.items.popular' | translate,
        link: 'games/library',
        isActive: isActiveLink('/games/library', null, true)
      },
      {
        name: 'games.navbar.items.categories' | translate,
        link: 'games/categories',
        isActive: isActiveLink('/games/categories', '/games/library/')
      },
      {
        name: 'games.navbar.items.new' | translate,
        link: 'games/new',
        isActive: isActiveLink('/games/new')
      }
    ]"
  ></app-nav-bar>
</app-header>

<app-controls-menu
  #menu
  [menuItems]="menuItems.asObservable()"
  (menuItemClick)="handleMenuItemClick($event.value)"
></app-controls-menu>

<router-outlet (activate)="onActivate($event)"></router-outlet>
