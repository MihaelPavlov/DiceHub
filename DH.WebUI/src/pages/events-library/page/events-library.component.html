<ng-container *ngIf="this.userEvents.length !== 0">
  <app-header
    [withScrollAnimation]="false"
    [header]="'events.header_my_events' | translate"
    [withSearch]="false"
    [withBottomLine]="true"
  >
  </app-header>

  <div class="wrapper_events">
    <div
      *ngFor="let event of userEvents"
      class="wrapper_event surface-elevated"
      (click)="navigateToDetails(event.id)"
    >
      <div class="wrapper_event__image">
        <img [src]="getImage(event) | async" alt="" />
      </div>
      <div class="wrapper_event__header">
        <p class="event_name">{{ event.name }}</p>
        <p class="description">
          {{
            (currentLanguage === SupportLanguages.EN
              ? event.description_EN
              : event.description_BG
            ) | truncate
          }}
        </p>
      </div>

      <div class="wrapper_event__chips">
        <app-chip
          [color]="'orange'"
          [text]="
            'events.chip_joined'
              | translate : { peopleJoined: event.peopleJoined }
          "
          [size]="'small'"
        ></app-chip>
        <app-chip
          [color]="'red'"
          [text]="
            'events.chip_max' | translate : { maxPeople: event.maxPeople }
          "
          [size]="'small'"
        ></app-chip>
      </div>
      <div class="wrapper_event__chips">
        <app-chip
          [color]="'blue'"
          [text]="
            (
              event.startDate
              | date : DATE_TIME_FORMAT : undefined : this.currentLanguage
            )?.toString() ?? ''
          "
          [size]="'small'"
        ></app-chip>
        <app-chip
          [color]="'yellow'"
          [text]="event.startDate | calculateRemainingDays"
          [size]="'small'"
        ></app-chip>
      </div>
    </div>
  </div>
</ng-container>

<ng-container>
  <app-header
    [withScrollAnimation]="false"
    [header]="'events.header_todays_events' | translate"
    [withSearch]="false"
    [withBottomLine]="true"
  >
  </app-header>

  <div class="no_records" *ngIf="todayEvents.length === 0">
    <img src="/shared/assets/images/no-events.png" alt="" />
    <p class="first-header">{{ "events.no_events_today" | translate }}</p>
  </div>
  <div class="wrapper_events">
    <div
      *ngFor="let event of todayEvents"
      class="wrapper_event surface-elevated"
      (click)="navigateToDetails(event.id)"
    >
      <div class="wrapper_event__image">
        <img [src]="getImage(event) | async" alt="" />
      </div>
      <div class="wrapper_event__header">
        <p>{{ event.name }}</p>
        <p class="description">
          {{
            (currentLanguage === SupportLanguages.EN
              ? event.description_EN
              : event.description_BG
            ) | truncate
          }}
        </p>
      </div>

      <div class="wrapper_event__chips">
        <app-chip
          [color]="'orange'"
          [text]="
            'events.chip_joined'
              | translate : { peopleJoined: event.peopleJoined }
          "
          [size]="'small'"
        ></app-chip>
        <app-chip
          [color]="'red'"
          [text]="
            'events.chip_max' | translate : { maxPeople: event.maxPeople }
          "
          [size]="'small'"
        ></app-chip>
      </div>
      <div class="wrapper_event__chips">
        <app-chip
          [color]="'blue'"
          [text]="
            (
              event.startDate
              | date : DATE_TIME_FORMAT : undefined : this.currentLanguage
            )?.toString() ?? ''
          "
          [size]="'small'"
        ></app-chip>
        <app-chip
          [color]="'yellow'"
          [text]="event.startDate | calculateRemainingDays"
          [size]="'small'"
        ></app-chip>
      </div>
    </div>
  </div>
</ng-container>

<ng-container *ngIf="upcomingEvents.length !== 0">
  <app-header
    [withScrollAnimation]="false"
    [header]="'events.header_upcoming_events' | translate"
    [withSearch]="false"
    [withBottomLine]="true"
  >
  </app-header>

  <div class="wrapper_events">
    <div
      *ngFor="let event of upcomingEvents"
      class="wrapper_event surface-elevated"
      (click)="navigateToDetails(event.id)"
    >
      <div class="wrapper_event__image">
        <img [src]="getImage(event) | async" alt="" />
      </div>
      <div class="wrapper_event__header">
        <p class="event_name">{{ event.name }}</p>
        <p class="description">
          {{
            (currentLanguage === SupportLanguages.EN
              ? event.description_EN
              : event.description_BG
            ) | truncate
          }}
        </p>
      </div>

      <div class="wrapper_event__chips">
        <app-chip
          [color]="'orange'"
          [text]="
            'events.chip_joined'
              | translate : { peopleJoined: event.peopleJoined }
          "
          [size]="'small'"
        ></app-chip>
        <app-chip
          [color]="'red'"
          [text]="
            'events.chip_max' | translate : { maxPeople: event.maxPeople }
          "
          [size]="'small'"
        ></app-chip>
      </div>
      <div class="wrapper_event__chips">
        <app-chip
          [color]="'blue'"
          [text]="
            (
              event.startDate
              | date : DATE_TIME_FORMAT : undefined : this.currentLanguage
            )?.toString() ?? ''
          "
          [size]="'small'"
        ></app-chip>
        <app-chip
          [color]="'yellow'"
          [text]="event.startDate | calculateRemainingDays"
          [size]="'small'"
        ></app-chip>
      </div>
    </div>
  </div>
</ng-container>
